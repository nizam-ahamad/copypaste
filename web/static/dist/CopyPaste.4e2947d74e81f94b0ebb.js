/*!
 * CopyPaste.me - Frictionless sharing between devices
 * Created by The Social Code
 *
 * @author  Sebastian Kersten
 *
 * Please help keeping the service free by donating: https://paypal.me/thesocialcode
 *
 */(()=>{var t={862(t,e,n){const o=n(8947),r=n(6386),i=n(8385),s=n(4987),a={publicKey:s(i.convertPublicKey),secretKey:s(i.convertSecretKey)};t.exports={keyPair:function(){const t=o.sign.keyPair();return{secretKey:r.encodeBase64(t.secretKey),publicKey:r.encodeBase64(t.publicKey)}},fromSecretKey:function(t){t=r.decodeBase64(t);const e=o.sign.keyPair.fromSecretKey(t);return{secretKey:r.encodeBase64(e.secretKey),publicKey:r.encodeBase64(e.publicKey)}},encrypt:function(t,e,n){t=r.decodeUTF8(t),e=a.publicKey(r.decodeBase64(e)),n=a.secretKey(r.decodeBase64(n));const i=o.randomBytes(o.box.nonceLength);return t=o.box(t,i,e,n),{data:r.encodeBase64(t),nonce:r.encodeBase64(i)}},decrypt:function(t,e,n,i){if(t=r.decodeBase64(t),e=r.decodeBase64(e),n=a.publicKey(r.decodeBase64(n)),i=a.secretKey(r.decodeBase64(i)),!(t=o.box.open(t,e,n,i)))throw new Error("failed opening nacl.box");return r.encodeUTF8(t)},sign:function(t,e){return t=r.decodeUTF8(t),e=r.decodeBase64(e),t=o.sign.detached(t,e),r.encodeBase64(t)},verify:function(t,e,n){return t=r.decodeUTF8(t),e=r.decodeBase64(e),n=r.decodeBase64(n),o.sign.detached.verify(t,e,n)}}},7916(t){"use strict";t.exports=function(){this.__construct()},t.exports.prototype={_elRoot:null,_elLabel:null,_elMenu:null,_elButton:null,_buttonData:null,__construct:function(){this._elRoot=document.querySelector('[data-mimoto-id="component_AlertMessage"]'),this._elLabel=this._elRoot.querySelector('[data-mimoto-id="label"]'),this._elMenu=this._elRoot.querySelector('[data-mimoto-id="menu"]'),this._elButton=this._elRoot.querySelector('[data-mimoto-id="button"]'),this._elButton.addEventListener("click",this._onButtonClick.bind(this))},show:function(t,e,n){this._buttonData=n,this._elLabel.innerHTML=t,this._elRoot.classList.add("show"),this._elMenu.classList.remove("show"),this._buttonData&&this._buttonData.sLabel&&this._buttonData.fClickHandler&&(this._elMenu.classList.add("show"),this._elButton.innerText=this._buttonData.sLabel),e&&this._elRoot.classList.add("disabled")},hide:function(){this._elRoot.classList.remove("show"),this._elMenu.classList.remove("show")},_onButtonClick:function(){this._buttonData&&this._buttonData.fClickHandler&&this._buttonData.fClickHandler()}}},2992(t,e,n){"use strict";const o=n(4480),r=n(4929),i=n(4608),s=n(3960),a=n(5024),c=n(38),h=n(8882),l=n(9392),u=n(7916),d=n(260),p=n(8007);t.exports=function(t){this.__construct(t)},t.exports.prototype={_socket:null,_sToken:null,_sDeviceID:null,_sManualCode:"",_bIsPrimaryDevice:null,_bIsManualConnect:!1,_sState:null,_sDirection:c.prototype.DEFAULT,_socketIDs:{},_connector:null,_manualConnectInput:null,_manualConnectHandshake:null,_dataOutput:null,_dataInput:null,_alertMessage:null,_toggleDirectionButton:null,_myKeyPair:null,_sTheirPublicKey:"",_elRoot:null,_dataManager:null,_packageManager:null,STATE_PRIMARYDEVICE_WAITINGFORSECONDARYDEVICE:"STATE_PRIMARYDEVICE_WAITINGFORSECONDARYDEVICE",STATE_SECONDARYDEVICECONNECTED:"STATE_SECONDARYDEVICECONNECTED",__construct:function(t){this._elRoot=document.querySelector('[data-mimoto-id="component_Client"]'),this._socket=new p(t,{secure:!0}),this._socket.on("connect",this._onSocketConnect.bind(this)),this._socket.on("connect_failed",this._socketConnectFailed.bind(this)),this._socket.on("connect_error",this._onSocketConnectError.bind(this)),this._socket.on("disconnect",this._onSocketDisconnect.bind(this)),this._dataManager=new d,this._dataManager.addEventListener(d.prototype.DATA_READY_FOR_TRANSFER,this._onDataManagerDataReadyForTransfer.bind(this)),this._dataManager.addEventListener(d.prototype.DATA_LOADING,this._onDataManagerDataLoading.bind(this)),this._dataManager.addEventListener(d.prototype.DATA_READY_FOR_DISPLAY,this._onDataManagerDataReadyForDisplay.bind(this));let e="connect";if(window.location.pathname.substr(1,7).toLowerCase()===e)this._bIsManualConnect=!0,this._setupDevice(!1);else if(this._sToken=window.location.pathname.substr(1),this._sToken&&0!==this._sToken.length){if(!new RegExp(/^[0-9a-z]{32}$/g).test(this._sToken))return void window.open("/","_self");window&&window.history&&window.history.pushState&&window.history.pushState(null,document.getElementsByTagName("title")[0].innerHTML,"/"),this._setupDevice(!1)}else this._setupDevice(!0);this._socket.connect()},_setupDevice:function(t){this._bIsPrimaryDevice=t,this._bIsPrimaryDevice?(this._socket.on(r.prototype.UPDATE_PRIMARYDEVICE_CONNECTED,this._onUpdatePrimaryDeviceConnected.bind(this)),this._socket.on(r.prototype.UPDATE_PRIMARYDEVICE_FRESH_TOKEN,this._onReceiveTokenRefreshed.bind(this)),this._socket.on(r.prototype.UPDATE_OTHERDEVICE_CONNECTED,this._onUpdateOtherDeviceConnected.bind(this)),this._socket.on(r.prototype.UPDATE_PRIMARYDEVICE_MANUALCODE,this._onUpdatePrimaryDeviceManualCode.bind(this)),this._socket.on(r.prototype.REQUEST_PRIMARYDEVICE_MANUALCODE_CONFIRMATION,this._onRequestPrimaryDeviceManualCodeConfirmation.bind(this)),this._socket.on(r.prototype.ERROR_PRIMARYDEVICE_CONNECT_BY_MANUALCODE_SECONDARYDEVICE_NOT_FOUND,this._onErrorPrimaryDeviceConnectByManualCodeSecondaryDeviceNotFound.bind(this))):(this._socket.on(r.prototype.ERROR_SECONDARYDEVICE_CONNECT_BY_QR_TOKEN_NOT_FOUND,this._onErrorSecondaryDeviceConnectByQRTokenNotFound.bind(this)),this._socket.on(r.prototype.UPDATE_SECONDARYDEVICE_CONNECTED_BY_QR,this._onUpdateSecondaryDeviceConnectedByQR.bind(this)),this._socket.on(r.prototype.ERROR_SECONDARYDEVICE_CONNECT_BY_MANUALCODE_TOKEN_NOT_FOUND,this._onErrorSecondaryDeviceConnectByManualCodeTokenNotFound.bind(this)),this._socket.on(r.prototype.UPDATE_SECONDARYDEVICE_MANUALCODE_ACCEPTED,this._onUpdateSecondaryDeviceManualCodeAccepted.bind(this)),this._socket.on(r.prototype.UPDATE_SECONDARYDEVICE_CONNECTED_BY_MANUALCODE,this._onUpdateSecondaryDeviceConnectedByManualCode.bind(this))),this._socket.on(r.prototype.UPDATE_DEVICE_RECONNECTED,this._onUpdateDeviceReconnected.bind(this)),this._socket.on(r.prototype.UPDATE_OTHERDEVICE_DISCONNECTED,this._onUpdateOtherDeviceDisconnected.bind(this)),this._socket.on(r.prototype.UPDATE_OTHERDEVICE_RECONNECTED,this._onUpdateOtherDeviceReconnected.bind(this)),this._socket.on(r.prototype.RECEIVE_DATA,this._onReceiveData.bind(this)),this._socket.on(r.prototype.DATA_RECEIVED,this._onDataReceived.bind(this)),this._socket.on(r.prototype.ERROR_DEVICE_RECONNECT_DEVICEID_NOT_FOUND,this._onErrorDeviceReconnectDeviceIDNotFound.bind(this)),this._socket.on(r.prototype.ERROR_SECURITY_COMPROMISED,this._onErrorSecurityCompromised.bind(this)),this._socket.on(r.prototype.NOTIFICATION_SESSION_EXPIRED,this._onDeviceNotificationSessionExpired.bind(this)),this._dataOutput=new s,this._dataInput=new i,this._dataInput.addEventListener(i.prototype.REQUEST_DATABROADCAST,this._onRequestDataBroadcast.bind(this)),this._alertMessage=new u,this._toggleDirectionButton=new a,this._socket.on(r.prototype.UPDATE_TOGGLE_DIRECTION,this._onUpdateToggleDirection.bind(this)),this._toggleDirectionButton.addEventListener(a.prototype.REQUEST_TOGGLE_DIRECTION,this._onRequestToggleDirection.bind(this)),this._bIsManualConnect&&(this._manualConnectInput=new h,this._manualConnectInput.addEventListener(h.prototype.REQUEST_CONNECT_BY_MANUALCODE,this._onManualConnectInputRequestConnectByManualCode.bind(this)),this._manualConnectInput.show())},_onSocketConnect:function(){this._socketIDs.current&&(this._socketIDs.previous=this._socketIDs.current),this._socketIDs.current=this._socket.id,this._alertMessage.hide(),this._isRegisteredDevice()?this._socket.emit(r.prototype.REQUEST_DEVICE_RECONNECT,this._sDeviceID):this._bIsPrimaryDevice?this._socket.emit(r.prototype.REQUEST_PRIMARYDEVICE_CONNECT,this._dataManager.getMyPublicKey()):this._bIsManualConnect||this._socket.emit(r.prototype.REQUEST_SECONDARYDEVICE_CONNECT_BY_QR,this._dataManager.getMyPublicKey(),this._sToken)},_socketConnectFailed:function(){this._alertMessage.show("Connection failed. Please try again later!")},_onSocketConnectError:function(t){this._dataManager.pause(),this._disableInterface(),this._alertMessage&&this._alertMessage.show("No connection. Are you still online?")},_onSocketDisconnect:function(){this._dataManager.pause(),this._alertMessage&&this._alertMessage.show("You seem to have gone offline .. reconnecting ..")},_onRequestToggleDirection:function(){this._socket.emit(r.prototype.REQUEST_TOGGLE_DIRECTION)},_onUpdatePrimaryDeviceConnected:function(t,e,n){this._sDeviceID=t,this._connector=new o(e,n),this._connector.addEventListener(o.prototype.REQUEST_TOKEN_REFRESH,this._onConnectorRequestTokenRefresh.bind(this)),this._connector.addEventListener(o.prototype.REQUEST_MANUALCODE,this._onConnectorRequestManualCode.bind(this)),this._setState(this.STATE_PRIMARYDEVICE_WAITINGFORSECONDARYDEVICE)},_onConnectorRequestTokenRefresh:function(t){this._socket.emit(r.prototype.REQUEST_PRIMARYDEVICE_FRESH_TOKEN,t)},_onReceiveTokenRefreshed:function(t,e){this._connector.setToken(t,e)},_onErrorDeviceReconnectDeviceIDNotFound:function(t){!0===t&&this._socketIDs.previous?this._socket.emit(r.prototype.REQUEST_DEVICE_RECONNECT,this._sDeviceID,this._socketIDs.previous):(this._killConnection(),this._disableInterface(),this._alertMessage.show("Your session expired to ensure the safety of your data",!0,{sLabel:"Start new session",fClickHandler:function(){window.open("/","_self")}}))},_onErrorSecondaryDeviceConnectByQRTokenNotFound:function(){this._killConnection(),this._disableInterface(),this._alertMessage.show("The link you are trying to use is not working. Please try again.",!0)},_onUpdateOtherDeviceConnected:function(t){this._dataManager.setTheirPublicKey(t),this._setState(this.STATE_SECONDARYDEVICECONNECTED,!0)},_onUpdateSecondaryDeviceConnectedByQR:function(t,e,n){this._sDeviceID=t,this._sDirection=n,this._dataManager.setTheirPublicKey(e),this._setState(this.STATE_SECONDARYDEVICECONNECTED,!0)},_onUpdateDeviceReconnected:function(t,e){this._sDirection=e,delete this._socketIDs.previous,this._dataManager.resume(t),this._setState(this._sState,t)},_onUpdateOtherDeviceDisconnected:function(){this._dataManager.pause(),this._setState(this._sState,!1),this._alertMessage.show("The other device has been disconnected. Is it still online?")},_onUpdateOtherDeviceReconnected:function(){this._dataManager.resume(!0),this._setState(this._sState,!0)},_onUpdateToggleDirection:function(t){this._sDirection=t,this._setState(this._sState,!0)},_onConnectorRequestManualCode:function(){this._sManualCode||this._socket.emit(r.prototype.REQUEST_PRIMARYDEVICE_MANUALCODE)},_onUpdatePrimaryDeviceManualCode:function(t,e){this._connector.setManualCode(t,e)},_onManualConnectInputRequestConnectByManualCode:function(t){this._socket.emit(r.prototype.REQUEST_SECONDARYDEVICE_CONNECT_BY_MANUALCODE,this._dataManager.getMyPublicKey(),t)},_onErrorSecondaryDeviceConnectByManualCodeTokenNotFound:function(){this._manualConnectInput.enable("The code you are trying to use seems to be incorrect or is expired.<br>Please try again.")},_onUpdateSecondaryDeviceManualCodeAccepted:function(){this._manualConnectInput.hide();let t="";for(let e=0;e<4;e++)t+=Math.floor(10*Math.random());this._manualConnectHandshake=new l,this._manualConnectHandshake.show(t),this._socket.emit(r.prototype.REQUEST_SECONDARYDEVICE_MANUALCODE_HANDSHAKE,t)},_onRequestPrimaryDeviceManualCodeConfirmation:function(t){this._connector.hide(),this._manualConnectHandshake=new l,this._manualConnectHandshake.show(t),this._manualConnectHandshake.addEventListener(l.prototype.REQUEST_CONFIRM_HANDSHAKE,this._ManualConnectHandshakeRequestConfirmHandshake.bind(this)),this._manualConnectHandshake.enableButton()},_ManualConnectHandshakeRequestConfirmHandshake:function(){this._socket&&this._socket.emit(r.prototype.REQUEST_PRIMARYDEVICE_MANUALCODE_CONFIRMED)},_onErrorPrimaryDeviceConnectByManualCodeSecondaryDeviceNotFound:function(){this._killConnection(),this._disableInterface(),this._alertMessage.show("Oops, it seems we lost the other device :/ Let`s try again!",!0,{sLabel:"Start new session",fClickHandler:function(){window.open("/","_self")}})},_onUpdateSecondaryDeviceConnectedByManualCode:function(t,e,n){this._sDeviceID=t,this._sDirection=n,this._dataManager.setTheirPublicKey(e),window&&window.history&&window.history.pushState&&window.history.pushState(null,document.getElementsByTagName("title")[0].innerHTML,"/"),this._setState(this.STATE_SECONDARYDEVICECONNECTED,!0)},_onDataManagerDataReadyForTransfer:function(t){this._socket.emit(r.prototype.SEND_DATA,t),0===t.packageNumber&&this._dataInput.showTransferProgress((t.packageNumber+1)/t.packageCount)},_onDataManagerDataLoading:function(t){this._dataOutput.prepareData(t)},_onDataManagerDataReadyForDisplay:function(t){this._dataOutput.showData(t)},_onRequestDataBroadcast:function(t){this._dataManager.prepareDataForTransfer(t)},_onReceiveData:function(t){this._socket.emit(r.prototype.DATA_RECEIVED,{id:t.id,dataID:t.id,packageNumber:t.packageNumber,packageCount:t.packageCount,packageSize:t.packageSize}),this._dataManager.addPackage(t),0===t.packageNumber&&this._toggleDirectionButton.disable(),t.packageNumber===t.packageCount-1&&this._toggleDirectionButton.enable()},_onDataReceived:function(t){this._dataInput.showTransferProgress((t.packageNumber+1)/t.packageCount),this._dataManager.continueToNextPackage(t)},_isOutputDevice:function(){if(this._sDirection!==c.prototype.SWAPPED){if(this._bIsPrimaryDevice)return!0}else if(!this._bIsPrimaryDevice)return!0;return!1},_isRegisteredDevice:function(){return!!this._sDeviceID},_onDeviceNotificationSessionExpired:function(){this._killConnection(),this._disableInterface(),this._alertMessage.show("Your session expired to ensure the safety of your data",!0,{sLabel:"Start new session",fClickHandler:function(){window.open("/","_self")}})},_onErrorSecurityCompromised:function(){this._killConnection(),document.querySelector('[data-mimoto-id="component_Client"]').remove(),document.querySelector('[data-mimoto-id="main-information"]').remove(),document.querySelector('[data-mimoto-id="main-interface-header-background"]').remove(),document.querySelector('[data-mimoto-id="logo"]').src="static/images/copypaste-logo-white.png",document.body.classList.add("security_compromised"),document.querySelector('[data-mimoto-id="warning_security_compromised"]').innerHTML='<div class="warning_security_compromised_title">WARNING: Security compromised</div><p>It appears a third device tried to connect to your session.</p><p>Just to be sure, we shut it down.</p><p>Your data is safe!</p><br><p>To start a new session, <a href="/">reload</a> this page!</p>'},_killConnection:function(){this._socket.removeAllListeners(),this._socket.disconnect(),delete this._socket},_disableInterface:function(){this._connector&&this._connector.hide(),this._manualConnectInput&&this._manualConnectInput.hide(),this._manualConnectHandshake&&this._manualConnectHandshake.hide(),this._dataOutput&&this._dataOutput.hide(),this._dataInput&&this._dataInput.hide(),this._toggleDirectionButton&&this._toggleDirectionButton.hide()},_setState:function(t,e){switch(this._sState=t,this._alertMessage.hide(),this._sState){case this.STATE_PRIMARYDEVICE_WAITINGFORSECONDARYDEVICE:this._connector.show();break;case this.STATE_SECONDARYDEVICECONNECTED:this._connector&&(this._connector.hide(),delete this._connector),this._manualConnectHandshake&&(this._manualConnectHandshake.hide(),delete this._manualConnectHandshake),e&&(this._isOutputDevice()?(this._toggleDirectionButton.show(),this._dataInput.hide(),this._dataOutput.unmute(),this._dataOutput.show()):(this._toggleDirectionButton.hide(),this._dataInput.show(),this._dataOutput.mute(),this._dataOutput.hide()));let t=document.querySelector('[data-mimoto-id="component_Banner"]');t&&t.classList.add("show")}}}},2378(t){"use strict";t.exports=function(){},t.exports.prototype={TYPE_SCAN:"scan",TYPE_MANUALLY:"manually",TYPE_INVITE:"invite"}},4480(t,e,n){"use strict";const o=n(7583),r=n(6832),i=n(2378),s=n(6673),a=(n(6e3),n(961));t.exports=function(t,e){this.__construct(t,e)},t.exports.prototype={_sTokenURL:null,_qrcode:null,_menuConnectionType:null,_elRoot:null,_elCardFront:null,_elCardBack:null,_elConectionTypes:null,_elConnectionTypeScan:null,_elConnectionTypeManually:null,_elConnectionTypeInvite:null,_aConnectionTypes:[],_elConnectionTypeScan_QRContainer:null,_elConnectionTypeManually_Instructions:null,_elConnectionTypeManually_Code:null,_elConnectionTypeManually_Countdown:null,_elConnectionTypeManually_URL:null,_elConnectionTypeInvite_Options:null,_elConnectionTypeInvite_ButtonRefreshToken:null,_elConnectionTypeInvite_TimeTillExpiration:null,_elConnectionTypeInvite_NotificationCopiedToClipboard:null,_elConnectionTypeInvite_ButtonWhatsapp:null,_elConnectionTypeInvite_ButtonTelegram:null,_elConnectionTypeInvite_ButtonEmail:null,_timerTokenExpires:null,_timerTokenUpdate:null,_nTokenQRExpires:0,_timerManualCodeCountdown:null,_sCurrentConnectionType:"",_bIsFrontCardFocused:!0,_manualCode:null,REQUEST_TOKEN_REFRESH:"REQUEST_TOKEN_REFRESH",REQUEST_MANUALCODE:"REQUEST_MANUALCODE",__construct:function(t,e){new a(this),this._elRoot=document.querySelector('[data-mimoto-id="component_Connector"]'),this._elCardFront=this._elRoot.querySelector('[data-mimoto-id="card_front"]'),this._elCardBack=this._elRoot.querySelector('[data-mimoto-id="card_back"]'),this._elConnectionTypesContainer=this._elRoot.querySelector('[data-mimoto-id="connectiontypes-container"]'),this._elConnectionTypeScan=this._elConnectionTypesContainer.querySelector('[data-mimoto-id="type_scan"]'),this._elConnectionTypeManually=this._elConnectionTypesContainer.querySelector('[data-mimoto-id="type_manually"]'),this._elConnectionTypeInvite=this._elConnectionTypesContainer.querySelector('[data-mimoto-id="type_invite"]'),this._aConnectionTypes[i.prototype.TYPE_SCAN]=this._elConnectionTypeScan,this._aConnectionTypes[i.prototype.TYPE_MANUALLY]=this._elConnectionTypeManually,this._aConnectionTypes[i.prototype.TYPE_INVITE]=this._elConnectionTypeInvite,this._elConnectionTypeScan_QRContainer=this._elConnectionTypeScan.querySelector('[data-mimoto-id="container"]'),this._elConnectionTypeManually_Instructions=this._elConnectionTypeManually.querySelector('[data-mimoto-id="instructions"]'),this._elConnectionTypeManually_Code=this._elConnectionTypeManually.querySelector('[data-mimoto-id="code"]'),this._elConnectionTypeManually_Countdown=this._elConnectionTypeManually.querySelector('[data-mimoto-id="countdown"]'),this._elConnectionTypeManually_URL=this._elConnectionTypeManually.querySelector('[data-mimoto-id="connect_url"]'),this._elConnectionTypeManually_URL.innerText=window.location.protocol+"//"+window.location.hostname,this._elConnectionTypeInvite_ButtonRefreshToken=this._elConnectionTypeInvite.querySelector('[data-mimoto-id="button-refreshtoken"]'),this._elConnectionTypeInvite_TimeTillExpiration=this._elConnectionTypeInvite.querySelector('[data-mimoto-id="timetillexpiration"]'),this._elConnectionTypeInvite_NotificationCopiedToClipboard=this._elConnectionTypeInvite.querySelector('[data-mimoto-id="notification-copiedtoclipboard"]'),this._elConnectionTypeInvite_Options=this._elConnectionTypeInvite.querySelector('[data-mimoto-id="inviteoptions"]'),this._elConnectionTypeInvite_ButtonWhatsapp=this._elConnectionTypeInvite_Options.querySelector('[data-mimoto-id="button-whatsapp"]'),this._elConnectionTypeInvite_ButtonTelegram=this._elConnectionTypeInvite_Options.querySelector('[data-mimoto-id="button-telegram"]'),this._elConnectionTypeInvite_ButtonEmail=this._elConnectionTypeInvite_Options.querySelector('[data-mimoto-id="button-email"]'),this._elConnectionTypeInvite_ButtonCopyLink=this._elConnectionTypeInvite_Options.querySelector('[data-mimoto-id="button-copylink"]'),this._elConnectionTypeInvite_ButtonCopyLink&&this._elConnectionTypeInvite_ButtonCopyLink.addEventListener("click",this._onButtonCopyLinkClick.bind(this)),this._elConnectionTypeInvite_ButtonRefreshToken&&this._elConnectionTypeInvite_ButtonRefreshToken.addEventListener("click",this._onButtonRefreshTokenClick.bind(this)),this._sCurrentConnectionType=i.prototype.TYPE_SCAN,this.setToken(t,e),this._elCardFront.appendChild(this._aConnectionTypes[this._sCurrentConnectionType]),this._menuConnectionType=new r,this._menuConnectionType.addEventListener(r.prototype.REQUEST_TOGGLE_CONNECTIONTYPE,this._onRequestToggleConnectionType.bind(this))},show:function(){this._elRoot.classList.add("show"),document.body.classList.add("app"),this._elRoot.style.width=0,this._elRoot.style.height=this._elCardFront.offsetHeight+15+"px",this._elCardFront.style.left=-Math.floor(this._elCardFront.offsetWidth)/2+"px",this._menuConnectionType.show()},hide:function(){this._elRoot.classList.remove("show"),document.body.classList.remove("app"),this._menuConnectionType.hide(),this._timerTokenExpires&&clearTimeout(this._timerTokenExpires),this._timerTokenUpdate&&clearInterval(this._timerTokenUpdate),this._timerManualCodeCountdown&&clearInterval(this._timerManualCodeCountdown)},setToken:function(t,e){this._nTokenQRExpires=(new Date).getTime()+e,this._sTokenURL=window.location.protocol+"//"+window.location.hostname+"/"+t,this._sCurrentConnectionType===i.prototype.TYPE_SCAN?this._showQR():setTimeout(this._showQR.bind(this),500),this._elConnectionTypeInvite_ButtonWhatsapp&&this._elConnectionTypeInvite_ButtonWhatsapp.setAttribute("data-url",this._sTokenURL),this._elConnectionTypeInvite_ButtonTelegram&&this._elConnectionTypeInvite_ButtonTelegram.setAttribute("data-url",this._sTokenURL),this._elConnectionTypeInvite_ButtonEmail&&this._elConnectionTypeInvite_ButtonEmail.setAttribute("data-url",this._sTokenURL),this._timerTokenExpires=setTimeout(this._onTimerTokenExpires.bind(this),e),this._timerTokenUpdate=setInterval(this._onTimerTokenUpdate.bind(this),1e3),this._onTimerTokenUpdate()},setManualCode:function(t,e){this._manualCode={},this._elConnectionTypeManually_Code.innerText=t.substr(0,3)+"-"+t.substr(3),this._manualCode.localCreated=(new Date).getTime(),this._manualCode.localExpires=this._manualCode.localCreated+e,this._manualCode.almostExpired=!1,this._elConnectionTypeManually_Countdown.classList.remove("almostexpired"),this._updateExpirationLabel(),this._timerManualCodeCountdown=setInterval(this._onTimerManualCodeCountdown.bind(this),100)},_onRequestToggleConnectionType:function(t){if(t!==this._sCurrentConnectionType){switch(this._sCurrentConnectionType=t,t){case i.prototype.TYPE_SCAN:break;case i.prototype.TYPE_MANUALLY:this._manualCode||this._requestNewManualCode();break;case i.prototype.TYPE_INVITE:this._onTimerTokenExpires(!0)}if(this._bIsFrontCardFocused){for(;this._elCardBack.children.length>0;)this._elCardBack.removeChild(this._elCardBack.children[0]);this._elCardBack.appendChild(this._aConnectionTypes[t]),this._elCardBack.style.left=-Math.floor(this._elCardBack.offsetWidth)/2+"px"}else{for(;this._elCardFront.children.length>0;)this._elCardFront.removeChild(this._elCardFront.children[0]);this._elCardFront.appendChild(this._aConnectionTypes[t]),this._elCardFront.style.left=-Math.floor(this._elCardFront.offsetWidth)/2+"px"}this._bIsFrontCardFocused=!this._bIsFrontCardFocused,this._elRoot.classList.toggle("flip")}},_onTimerTokenExpires:function(t){this._timerTokenExpires&&clearTimeout(this._timerTokenExpires),this._timerTokenUpdate&&clearInterval(this._timerTokenUpdate),this.dispatchEvent(this.REQUEST_TOKEN_REFRESH,!0===t)},_onTimerTokenUpdate:function(){let t=this._nTokenQRExpires-(new Date).getTime();if(this._sCurrentConnectionType===i.prototype.TYPE_INVITE&&t<18e4)return void this._onTimerTokenExpires(!0);let e=Math.round(t%36e5*10/6e4)/10;this._elConnectionTypeInvite_TimeTillExpiration&&(this._elConnectionTypeInvite_TimeTillExpiration.innerText=e+" mins")},_requestNewManualCode:function(){this.dispatchEvent(this.REQUEST_MANUALCODE)},_onTimerManualCodeCountdown:function(){this._updateExpirationLabel()},_updateExpirationLabel:function(){let t=this._manualCode.localExpires-(new Date).getTime(),e=Math.floor(t%36e5/6e4),n=Math.floor(t%6e4/1e3),o="";e>0&&(o=e+" "+(1===e?"min":"mins")+" "),o+=(60===n&&0!==e?0:n)+" "+(1===n?"sec":"secs"),this._elConnectionTypeManually_Countdown.innerText="(valid for "+o+")",!this._manualCode.almostExpired&&0===e&&n<=10&&(this._manualCode.almostExpired=!0,this._elConnectionTypeManually_Countdown.classList.add("almostexpired")),t<=0&&(this._manualCode=null,clearInterval(this._timerManualCodeCountdown),this._timerManualCodeCountdown=null,this._elConnectionTypeManually_Countdown.innerText="(expired)",this._sCurrentConnectionType===i.prototype.TYPE_MANUALLY&&this._requestNewManualCode())},_onButtonCopyLinkClick:function(){s(this._sTokenURL),this._elConnectionTypeInvite_NotificationCopiedToClipboard&&(this._elConnectionTypeInvite_NotificationCopiedToClipboard.classList.add("show"),setTimeout(function(){this._elConnectionTypeInvite_NotificationCopiedToClipboard.classList.remove("show")}.bind(this),2e3))},_onButtonRefreshTokenClick:function(){this._onTimerTokenExpires(!0)},_showQR:function(){o.toDataURL(this._sTokenURL,{errorCorrectionLevel:"L",type:"image/png",quality:.92,margin:1,width:300,color:{dark:"#000000",light:"#ffffff"}}).then(function(t){this._elConnectionTypeScan_QRContainer.innerHTML='<img src="'+t+'" />'}.bind(this)).catch(function(t){console.error("Error generating QR code:",t)})}}},4929(t){"use strict";t.exports=function(){},t.exports.prototype={REQUEST_PRIMARYDEVICE_CONNECT:"REQUEST_PRIMARYDEVICE_CONNECT",UPDATE_PRIMARYDEVICE_CONNECTED:"UPDATE_PRIMARYDEVICE_CONNECTED",REQUEST_SECONDARYDEVICE_CONNECT_BY_QR:"REQUEST_SECONDARYDEVICE_CONNECT_BY_QR",UPDATE_SECONDARYDEVICE_CONNECTED_BY_QR:"UPDATE_SECONDARYDEVICE_CONNECTED_BY_QR",ERROR_SECONDARYDEVICE_CONNECT_BY_QR_TOKEN_NOT_FOUND:"ERROR_SECONDARYDEVICE_CONNECT_BY_QR_TOKEN_NOT_FOUND",REQUEST_PRIMARYDEVICE_MANUALCODE:"REQUEST_PRIMARYDEVICE_MANUALCODE",UPDATE_PRIMARYDEVICE_MANUALCODE:"UPDATE_PRIMARYDEVICE_MANUALCODE",REQUEST_SECONDARYDEVICE_CONNECT_BY_MANUALCODE:"REQUEST_SECONDARYDEVICE_CONNECT_BY_MANUALCODE",ERROR_SECONDARYDEVICE_CONNECT_BY_MANUALCODE_TOKEN_NOT_FOUND:"ERROR_SECONDARYDEVICE_CONNECT_BY_MANUALCODE_TOKEN_NOT_FOUND",UPDATE_SECONDARYDEVICE_MANUALCODE_ACCEPTED:"UPDATE_SECONDARYDEVICE_MANUALCODE_ACCEPTED",REQUEST_SECONDARYDEVICE_MANUALCODE_HANDSHAKE:"REQUEST_SECONDARYDEVICE_MANUALCODE_HANDSHAKE",REQUEST_PRIMARYDEVICE_MANUALCODE_CONFIRMATION:"REQUEST_PRIMARYDEVICE_MANUALCODE_CONFIRMATION",REQUEST_PRIMARYDEVICE_MANUALCODE_CONFIRMED:"REQUEST_SECONDARYDEVICE_MANUALCODE_CONFIRMED",UPDATE_SECONDARYDEVICE_CONNECTED_BY_MANUALCODE:"UPDATE_SECONDARYDEVICE_CONNECTED_BY_MANUALCODE",ERROR_PRIMARYDEVICE_CONNECT_BY_MANUALCODE_SECONDARYDEVICE_NOT_FOUND:"ERROR_PRIMARYDEVICE_CONNECT_BY_MANUALCODE_SECONDARYDEVICE_NOT_FOUND",REQUEST_DEVICE_RECONNECT:"REQUEST_DEVICE_RECONNECT",UPDATE_DEVICE_RECONNECTED:"UPDATE_DEVICE_RECONNECTED",ERROR_DEVICE_RECONNECT_DEVICEID_NOT_FOUND:"ERROR_DEVICE_RECONNECT_DEVICEID_NOT_FOUND",UPDATE_OTHERDEVICE_CONNECTED:"UPDATE_OTHERDEVICE_CONNECTED",UPDATE_OTHERDEVICE_DISCONNECTED:"UPDATE_OTHERDEVICE_DISCONNECTED",UPDATE_OTHERDEVICE_RECONNECTED:"UPDATE_OTHERDEVICE_RECONNECTED",REQUEST_TOGGLE_MANUALCONNECT:"REQUEST_TOGGLE_MANUALCONNECT",SEND_DATA:"SEND_DATA",RECEIVE_DATA:"RECEIVE_DATA",DATA_RECEIVED:"DATA_RECEIVED",REQUEST_PRIMARYDEVICE_FRESH_TOKEN:"REQUEST_PRIMARYDEVICE_FRESH_TOKEN",UPDATE_PRIMARYDEVICE_FRESH_TOKEN:"UPDATE_PRIMARYDEVICE_FRESH_TOKEN",ERROR_SECURITY_COMPROMISED:"ERROR_SECURITY_COMPROMISED",NOTIFICATION_SESSION_EXPIRED:"NOTIFICATION_SESSION_EXPIRED",REQUEST_TOGGLE_DIRECTION:"REQUEST_TOGGLE_DIRECTION",UPDATE_TOGGLE_DIRECTION:"UPDATE_TOGGLE_DIRECTION"}},4608(t,e,n){"use strict";n(8007),n(862);const o=n(961);t.exports=function(){this.__construct()},t.exports.prototype={_elRoot:null,_elCurrentDataInput:null,_elInputPassword:null,_elInputText:null,_elInputFile:null,_elInputFileButton:null,_elInputFileInputfield:null,_elUploadProgress:null,_aEvents:[],_aTabs:[],REQUEST_DATABROADCAST:"onRequestDataBroadcast",DATATYPE_PASSWORD:"password",DATATYPE_TEXT:"text",DATATYPE_FILE:"file",_bValidated:!1,_data:{},_bUnlocked:!0,__construct:function(){new o(this),this._elRoot=document.querySelector('[data-mimoto-id="component_DataInput"]'),this._elInputPassword=this._elRoot.querySelector('[data-mimoto-id="data_input_password"]'),this._elInputText=this._elRoot.querySelector('[data-mimoto-id="data_input_text"]'),this._elInputFile=this._elRoot.querySelector('[data-mimoto-id="data_input_file"]'),this._elInputFileButton=this._elInputFile.querySelector('[data-mimoto-id="data_input_file_button"]'),this._elInputFileInputfield=this._elInputFile.querySelector('[data-mimoto-id="data_input_file_inputfield"]'),this._elUploadProgress=this._elRoot.querySelector('[data-mimoto-id="progress"]'),this._elButtonSend=this._elRoot.querySelector('[data-mimoto-id="button_input_send"]'),this._setupInput(),this._setupTabMenu(),this._data.sType=this.DATATYPE_PASSWORD},show:function(){this._elRoot.classList.add("show"),this._focusDataInput(this._data.sType)},hide:function(){this._elRoot.classList.remove("show")},showTransferProgress:function(t){if(t>0&&t<1)this._elUploadProgress.innerText="Sharing "+Math.ceil(100*t)+"%";else{this._elUploadProgress.innerText="Sharing done!",document.querySelector('[data-mimoto-id="sender_data_label_data"]').classList.remove("showProgress"),document.querySelector('[data-mimoto-id="sender_data_label_data"]').classList.add("hideProgress");setTimeout(function(){document.querySelector('[data-mimoto-id="sender_data_label_data"]').classList.remove("hideProgress"),this._bUnlocked=!0,this._elRoot.classList.add("unlocked")}.bind(this),900)}},_setupInput:function(){this._elInputPassword.addEventListener("change",this._validatePassword.bind(this)),this._elInputPassword.addEventListener("keyup",this._validatePassword.bind(this)),this._elInputPassword.addEventListener("paste",this._validatePassword.bind(this)),this._elInputPassword.addEventListener("input",this._validatePassword.bind(this)),this._elInputText.addEventListener("change",this._validateText.bind(this)),this._elInputText.addEventListener("keyup",this._validateText.bind(this)),this._elInputText.addEventListener("paste",this._validateText.bind(this)),this._elInputText.addEventListener("input",this._validateText.bind(this)),this._elInputFileButton.addEventListener("click",function(){this._elInputFileInputfield.click()}.bind(this)),this._elInputFileInputfield.addEventListener("change",this._onSelectFile.bind(this)),this._elButtonSend.addEventListener("click",this._onButtonSendClick.bind(this))},_setupTabMenu:function(){let t=document.getElementById("sender_menu");this._aTabs=document.querySelectorAll(".sender_menu_tab",t);for(let t=0;t<this._aTabs.length;t++){let e=this._aTabs[t];e.addEventListener("click",function(t){this._bUnlocked&&this._focusTab(t)}.bind(this,e.getAttribute("data-type")))}},_focusTab:function(t){if(this._data.sType!==t){this._toggleSendButton(!1),this._discardAllInput();for(let e=0;e<this._aTabs.length;e++){let n=this._aTabs[e];n.getAttribute("data-type")===t?(n.classList.add("selected"),this._focusDataInput(t)):n.classList.remove("selected")}}},_focusDataInput:function(t){this._data.sType=t;let e=[this.DATATYPE_PASSWORD,this.DATATYPE_TEXT,this.DATATYPE_FILE];for(let n=0;n<e.length;n++){let o=e[n],r=this._elRoot.querySelector('[data-mimoto-id="data_input_'+o+'"]');if(o===t)switch(this._elCurrentDataInput=r,this._elCurrentDataInput.classList.add("selected"),t){case this.DATATYPE_PASSWORD:case this.DATATYPE_TEXT:this._elCurrentDataInput.focus();break;case this.DATATYPE_FILE:this._elInputFileInputfield.click()}else r.classList.remove("selected")}},_onSelectFile:function(){if(this._elInputFileInputfield.files&&this._elInputFileInputfield.files[0]){var t=new FileReader;t.onload=function(t){this._data.value={fileName:this._elInputFileInputfield.files[0].name,base64:t.target.result},this._elInputFile.querySelector('[data-mimoto-id="data_input_file_preview"]').classList.add("data_input_file_preview-visible"),this._elInputFile.querySelector('[data-mimoto-id="data_input_file_preview_label"]').innerText=this._data.value.fileName,this._validateFile()}.bind(this),t.readAsDataURL(this._elInputFileInputfield.files[0])}},_onButtonSendClick:function(){if(!this._bValidated)return;this._toggleSendButton(!1),this._bUnlocked=!1,this._elRoot.classList.remove("unlocked"),this._elRoot.querySelector('[data-mimoto-id="sender_data_label_data"]').classList.add("showProgress");setTimeout(function(){this.dispatchEvent(this.REQUEST_DATABROADCAST,this._data),this._data.value=null,this._discardAllInput(this._data.sType)}.bind(this),600)},_discardAllInput:function(t){t!==this.DATATYPE_PASSWORD&&t||(this._elInputPassword.value=""),t!==this.DATATYPE_TEXT&&t||(this._elInputText.value=""),t!==this.DATATYPE_FILE&&t||(this._elInputFile.querySelector('[data-mimoto-id="data_input_file_preview"]').classList.remove("data_input_file_preview-visible"),this._elInputFileInputfield.value=null)},_validatePassword:function(){this._toggleSendButton(this._elInputPassword.value.length>0),this._data.value=this._elInputPassword.value},_validateText:function(){this._toggleSendButton(this._elInputText.value.length>0),this._data.value=this._elInputText.value},_validateFile:function(){this._toggleSendButton(!0)},_toggleSendButton:function(t){t?(this._elButtonSend.classList.remove("disabled"),this._bValidated=!0):(this._elButtonSend.classList.add("disabled"),this._bValidated=!1)}}},7038(t,e,n){"use strict";const o=n(6673);t.exports=function(t){this.__construct(t)},t.exports.prototype={_elRoot:null,_elButton:null,__construct:function(t){this._elRoot=document.querySelector('[data-mimoto-id="component_ClearClipboard"]'),this._elButton=this._elRoot.querySelector('[data-mimoto-id="button_clear"]'),this._elButton.addEventListener("click",this._onButtonClick.bind(this))},show:function(){this._elRoot.classList.add("show")},hide:function(){this._elRoot.classList.remove("show")},_onButtonClick:function(){o(" "),this.hide()}}},3960(t,e,n){"use strict";const o=n(4278),r=n(7038),i=n(1344);n(862);t.exports=function(t){this.__construct(t)},t.exports.prototype={_elRoot:null,_elContainer:null,_elProgress:null,_waiting:null,_clearClipboard:null,_aSharedData:[],_bIsMuted:null,__construct:function(t){this._elRoot=document.querySelector('[data-mimoto-id="component_DataOutput"]'),this._elContainer=this._elRoot.querySelector('[data-mimoto-id="component_DataOutput_container"]'),this._elProgress=this._elRoot.querySelector('[data-mimoto-id="progress"]'),this._waiting=new i,this._clearClipboard=new r},show:function(){this._elRoot.classList.add("show"),0!==this._elContainer.children.length||this._bIsMuted||this._waiting.show()},hide:function(){0===this._elContainer.children.length&&this._elRoot.classList.remove("show"),this._waiting.hide()},mute:function(){this._bIsMuted=!0},unmute:function(){this._bIsMuted=!1},prepareData:function(t){if(this._waiting.hide(),this._aSharedData[t.id])this._aSharedData[t.id].showProgress(t);else{let e=new o(this._elContainer);e.addEventListener(o.prototype.CLEARED,this._onSharedDataCleared.bind(this,e)),e.addEventListener(o.prototype.USED_CLIPBOARD,this._onSharedDataUsedClipboard.bind(this,e)),this._aSharedData[t.id]=e,this._aSharedData[t.id].initData(t)}},showData:function(t){this._aSharedData[t.id]&&this._aSharedData[t.id].showData(t)},_onSharedDataCleared:function(t){0!==this._elContainer.children.length||this._bIsMuted||this._waiting.show();for(let e=0;e<this._aSharedData.length;e++)this._aSharedData[e]===t&&this._aSharedData.splice(e,1)},_onSharedDataUsedClipboard:function(){this._clearClipboard.show()}}},4278(t,e,n){"use strict";const o=n(961),r=n(4213),i=n(6673),s=n(4608);t.exports=function(t){this.__construct(t)},t.exports.prototype={_elRootContainer:null,_elRoot:null,_elDataLabel:null,_elButton:null,_elOptionsMenu:null,_elDonate:null,_elCoverLabel:null,_elCoverIndicator:null,_data:null,_bLocked:!1,_timer:null,_nTimeToAutoDestruct:0,_aEvents:[],CLEARED:"onCleared",USED_CLIPBOARD:"onUsedClipboard",__construct:function(t){new o(this),this._elRootContainer=t;var e=document.getElementById("template-data");this._elRoot=e.cloneNode(!0),this._elRoot.removeAttribute("id"),this._elDataLabel=this._elRoot.querySelector("[data-mimoto-id=receiver_data_label_data]"),this._elButton=this._elRoot.querySelector('[data-mimoto-id="receiver_data_button"]'),this._elOptionsMenu=this._elRoot.querySelector('[data-mimoto-id="optionsmenu"]'),this._elCoverLabel=this._elRoot.querySelector('[data-mimoto-id="coverlabel"]'),this._elCoverIndicator=this._elRoot.querySelector('[data-mimoto-id="indicator"]'),this._elDonate=this._elRoot.querySelector('[data-mimoto-id="donate"]'),this._elRootContainer.insertBefore(this._elRoot,this._elRootContainer.firstChild)},initData:function(t){switch(this._data=t,this._data.sType){case s.prototype.DATATYPE_PASSWORD:this._setDataLabel("* * * * * * *"),this._elButton.innerText="Copy to clipboard";break;case s.prototype.DATATYPE_TEXT:this._setDataLabel(this._data.value),this._elButton.innerText="Copy to clipboard";break;case s.prototype.DATATYPE_FILE:this._setDataLabel(this._data.sFileName),this._elButton.innerText="Download"}this._elButton.addEventListener("click",this._onButtonClick.bind(this)),this._elRoot.querySelector("[data-mimoto-id=receiver_data_option_clearnow]").addEventListener("click",function(t){this._clearData(t)}.bind(this,this._elRoot)),this._elRoot.querySelector("[data-mimoto-id=receiver_data_option_extend]").addEventListener("click",function(){this._extendAutoDestructionDelay()}.bind(this));let e=this._elRoot.querySelector('[data-mimoto-id="content"]');0===this._elRootContainer.children.length?e.classList.add("show"):this._show(e),t.totalCount>1&&(this._toggleSendButton(!1),this._elRoot.classList.add("showProgress"),this._elDonate.classList.add("show"))},showProgress:function(t){this._data=t,this._setCoverLabel("Receiving "+Math.round(100*t.receivedCount/t.totalCount)+"%",!0)},showData:function(t){switch(this._data=t,this._data.sType){case s.prototype.DATATYPE_PASSWORD:break;case s.prototype.DATATYPE_TEXT:this._setDataLabel(this._data.value);case s.prototype.DATATYPE_FILE:}if(this._elOptionsMenu.classList.add("show"),this._elDataLabel.classList.add("show"),t.totalCount>1){this._toggleSendButton(!0),this._elRoot.classList.remove("showProgress"),this._elRoot.classList.add("hideProgress"),this._elDonate.classList.remove("show");setTimeout(function(){this._elRoot.classList.remove("hideProgress"),this._bUnlocked=!0,this._elRoot.classList.add("unlocked")}.bind(this),900)}this._nTimeToAutoDestruct=(new Date).getTime()+12e4+(this._elRootContainer.children.length>1?1e3:0),this._timer=setInterval(function(){this._updateTimer()&&this._clearData()}.bind(this),100)},_show:function(t){let e=this._elRoot.offsetHeight+10,n=this._elRoot.querySelector('[data-mimoto-id="placeholder"]');t.style.display="none";setTimeout(function(t){t.style.height=e+"px"}.bind(this,n),10),setTimeout(function(t,e){t.style.display="none",e.style.display="block";setTimeout(function(t){t.classList.add("show")}.bind(this,e),10)}.bind(this,n,t),310)},_hide:function(){let t=this._elRoot.offsetHeight+10,e=this._elRoot.querySelector('[data-mimoto-id="content"]'),n=this._elRoot.querySelector('[data-mimoto-id="placeholder"]');e.style.display="none",n.style.height=t,n.style.display="block";setTimeout(function(t){t.style.height=0}.bind(this,n),10),setTimeout(function(){this._elRootContainer.removeChild(this._elRoot),this.dispatchEvent(this.CLEARED)}.bind(this),310)},_updateTimer:function(){let t=this._nTimeToAutoDestruct-(new Date).getTime(),e=Math.floor(t%36e5/6e4),n=Math.floor(t%6e4/1e3),o="";return e>0&&(o=e+" "+(1===e?"min":"mins")+" "),o+=(60===n&&0!==e?0:n)+" "+(1===n?"sec":"secs"),this._elRoot.querySelector("[data-mimoto-id=receiver_data_lifetime]").innerText=o,t<=0},_extendAutoDestructionDelay:function(){let t=6e4,e=Math.round((this._nTimeToAutoDestruct-(new Date).getTime())/t)*t+60900;this._nTimeToAutoDestruct=(new Date).getTime()+e},_clearData:function(){clearInterval(this._timer),this._hide()},_onButtonClick:function(){if(!this._bLocked)switch(this._data.sType){case s.prototype.DATATYPE_PASSWORD:case s.prototype.DATATYPE_TEXT:this._copyToClipboard(this._data.value),this.dispatchEvent(this.USED_CLIPBOARD);break;case s.prototype.DATATYPE_FILE:r.saveAs(this._data.value.base64,this._data.value.fileName)}},_setDataLabel:function(t){this._elDataLabel.innerText=t},_setCoverLabel:function(t,e){this._elCoverLabel.innerText=t,e?this._elCoverIndicator.classList.add("show"):this._elCoverIndicator.classList.remove("show")},_toggleSendButton:function(t){this._bLocked=!t,t?this._elButton.classList.remove("disabled"):this._elButton.classList.add("disabled")},_copyToClipboard:function(t){i(this._data.value),this._setCoverLabel("Copied to clipboard!"),this._toggleSendButton(!1),this._elRoot.classList.add("showProgress"),setTimeout(function(){this._elRoot.classList.remove("showProgress"),this._elRoot.classList.add("hideProgress"),setTimeout(function(){this._elRoot.classList.remove("hideProgress"),this._toggleSendButton(!0)}.bind(this),900)}.bind(this),900)}}},9392(t,e,n){"use strict";const o=n(961);t.exports=function(){this.__construct()},t.exports.prototype={_elRoot:null,_elTitle:null,_elSubtitle:null,_elButtonConnect:null,REQUEST_CONFIRM_HANDSHAKE:"REQUEST_CONFIRM_HANDSHAKE",__construct:function(){new o(this),this._elRoot=document.querySelector('[data-mimoto-id="component_ManualConnectHandshake"]'),this._elTitle=document.querySelector('[data-mimoto-id="title"]'),this._elSubtitle=document.querySelector('[data-mimoto-id="subtitle"]'),this._elButtonConnect=this._elRoot.querySelector('[data-mimoto-id="button"]'),this._elButtonConnect.addEventListener("click",this._onButtonConnectClick.bind(this))},show:function(t){for(let e=0;e<4;e++){this._elRoot.querySelector('[data-mimoto-id="char'+(e+1)+'"]').innerText=t.substr(e,1)}this._elRoot.classList.add("show")},hide:function(){this._elRoot.classList.remove("show")},enableButton:function(){this._elButtonConnect.classList.add("show")},_onButtonConnectClick:function(){this.dispatchEvent(this.REQUEST_CONFIRM_HANDSHAKE,this._sCode)}}},8882(t,e,n){"use strict";const o=n(961);t.exports=function(){this.__construct()},t.exports.prototype={_elRoot:null,_elTitle:null,_elSubtitle:null,_elManualCodeInput:null,_elMessage:null,_elButtonConnect:null,_elHandshakeCode:null,_sCode:"",_bCodeValidated:!1,_aInputs:[],_aHandshakeCodeChars:[],_bIsInitialInput:!0,_bIsDisabled:!1,_sAllowedCharacters:"ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789",REQUEST_CONNECT_BY_MANUALCODE:"REQUEST_CONNECT_BY_MANUALCODE",__construct:function(){new o(this),this._elRoot=document.querySelector('[data-mimoto-id="component_ManualConnectInput"]'),this._elTitle=document.querySelector('[data-mimoto-id="title"]'),this._elSubtitle=document.querySelector('[data-mimoto-id="subtitle"]'),this._elManualCodeInput=this._elRoot.querySelector('[data-mimoto-id="manualcodeinput"]'),this._elMessage=this._elRoot.querySelector('[data-mimoto-id="message"]'),this._elButtonConnect=this._elRoot.querySelector('[data-mimoto-id="button"]'),this._elHandshakeCode=this._elRoot.querySelector('[data-mimoto-id="handshakecode"]');for(let t=0;t<6;t++){let e=this._elRoot.querySelector('[data-mimoto-id="char'+(t+1)+'"]');this._aInputs.push(e),e.addEventListener("focus",this._onInputFocus.bind(this)),e.addEventListener("keyup",this._handleInput.bind(this,"keyup")),e.addEventListener("input",this._handleInput.bind(this,"input"))}this._elButtonConnect.addEventListener("click",this._onButtonConnectClick.bind(this))},show:function(){this._elRoot.classList.add("show"),this._focusNextEmpty()},hide:function(){this._elRoot.classList.remove("show")},disable:function(){this._bIsDisabled=!0},enable:function(t){this._bIsDisabled=!1,this._showMessage(t),this._elButtonConnect.classList.remove("muted")},_focusNextEmpty:function(){for(let t=0;t<this._aInputs.length;t++)if(""===this._aInputs[t].value){this._aInputs[t].focus();break}},_onInputFocus:function(t){t.target.select()},_handleInput:function(t,e){if(this._bIsDisabled)return;let n=e.target,o=0;switch(t){case"keyup":switch(e.code){case"Backspace":for(let t=0;t<this._aInputs.length;t++){if(this._aInputs[t]===n){if(n.value="",t>0){this._aInputs[t-1].focus()}break}}break;case"ArrowLeft":for(let t=0;t<this._aInputs.length;t++){if(this._aInputs[t]===n){if(t>0){this._aInputs[t-1].focus()}break}}break;case"ArrowRight":for(let t=0;t<this._aInputs.length;t++){if(this._aInputs[t]===n){if(t<this._aInputs.length-1){this._aInputs[t+1].focus()}break}}}break;case"input":this._hideMessage(),this._elButtonConnect.classList.add("muted");let t=n.value.toUpperCase(),r="",i=t.length;for(let e=0;e<i;e++){let n=t.substr(e,1);-1!==this._sAllowedCharacters.indexOf(n)&&(r+=t)}if(""===r){t!==r&&(n.value="");break}let s=this._aInputs.length;for(let t=0;t<s;t++)if(n===this._aInputs[t]){o=t;break}let a=0;for(let t=Math.max(0,o-Math.min(r.length-1,s));t<s;t++){if(this._aInputs[t].value=r.substr(a,1),a++,t<s-1&&this._aInputs[t+1].focus(),t===s-1&&this._aInputs[t].select(),a>r.length-1)break}}this._sCode="";for(let t=0;t<this._aInputs.length;t++)this._sCode+=this._aInputs[t].value;this._bCodeValidated=this._sCode.match(/^[a-zA-Z0-9]{6}$/g),this._bCodeValidated?this._elButtonConnect.classList.remove("muted"):this._elButtonConnect.classList.add("muted"),this._bCodeValidated&&this._bIsInitialInput&&this._onButtonConnectClick()},_onButtonConnectClick:function(){this._bCodeValidated?(this.disable(),this._bIsInitialInput=!1,this.dispatchEvent(this.REQUEST_CONNECT_BY_MANUALCODE,this._sCode)):this._showMessage("The code you entered isn't complete yet")},_showMessage:function(t){this._elMessage.innerHTML=t,this._elMessage.classList.add("show")},_hideMessage:function(){this._elMessage.classList.remove("show")}}},6832(t,e,n){"use strict";const o=n(961),r=n(2378);t.exports=function(){this.__construct()},t.exports.prototype={_elRoot:null,_elArrow:null,_elButtonContainer:null,_elButtonScan:null,_elButtonManually:null,_elButtonInvite:null,REQUEST_TOGGLE_CONNECTIONTYPE:"REQUEST_TOGGLE_CONNECTIONTYPE",_sCurrentConnectionType:null,__construct:function(){new o(this),this._elRoot=document.querySelector('[data-mimoto-id="component_MenuConnectionType"]'),this._elArrow=this._elRoot.querySelector('[data-mimoto-id="arrow"]'),this._elButtonContainer=this._elRoot.querySelector('[data-mimoto-id="button-container"]'),this._elButtonScan=this._elRoot.querySelector('[data-mimoto-id="button-scan"]'),this._elButtonManually=this._elRoot.querySelector('[data-mimoto-id="button-manually"]'),this._elButtonInvite=this._elRoot.querySelector('[data-mimoto-id="button-invite"]'),this._elButtonScan.addEventListener("click",this._onButtonClick.bind(this,r.prototype.TYPE_SCAN)),this._elButtonManually.addEventListener("click",this._onButtonClick.bind(this,r.prototype.TYPE_MANUALLY)),this._elButtonInvite.addEventListener("click",this._onButtonClick.bind(this,r.prototype.TYPE_INVITE))},show:function(){this._elRoot.classList.add("show"),this._elRoot.style.marginLeft=-Math.floor(this._elButtonContainer.offsetWidth)/2+"px",this._sCurrentConnectionType||this._onButtonClick(r.prototype.TYPE_SCAN)},hide:function(){this._elRoot.classList.remove("show")},_onButtonClick:function(t){if(t===this._sCurrentConnectionType)return;this._sCurrentConnectionType=t,this._elButtonScan.classList.remove("selected"),this._elButtonManually.classList.remove("selected"),this._elButtonInvite.classList.remove("selected");let e=null;switch(t){case r.prototype.TYPE_SCAN:this._elButtonScan.classList.add("selected"),e=this._elButtonScan;break;case r.prototype.TYPE_MANUALLY:this._elButtonManually.classList.add("selected"),e=this._elButtonManually;break;case r.prototype.TYPE_INVITE:this._elButtonInvite.classList.add("selected"),e=this._elButtonInvite}if(e){let t=this._elRoot.getBoundingClientRect(),n=this._elArrow.getBoundingClientRect(),o=e.getBoundingClientRect();this._elArrow.style.left=Math.round(o.x-t.x+o.width/2-n.width)+"px"}this.dispatchEvent(this.REQUEST_TOGGLE_CONNECTIONTYPE,t)}}},5024(t,e,n){"use strict";n(38);const o=n(961);t.exports=function(){this.__construct()},t.exports.prototype={_elRoot:null,_elButton:null,_bIsDisabled:!1,REQUEST_TOGGLE_DIRECTION:"REQUEST_TOGGLE_DIRECTION",__construct:function(){new o(this),this._elRoot=document.querySelector('[data-mimoto-id="component_ToggleDirectionButton"]'),this._elButton=this._elRoot.querySelector('[data-mimoto-id="button"]'),this._elButton.addEventListener("click",this._onButtonClick.bind(this))},show:function(){this._elRoot.classList.add("show")},hide:function(){this._elRoot.classList.remove("show")},disable:function(){this._bIsDisabled=!0,this._elButton.classList.add("disabled")},enable:function(){this._bIsDisabled=!1,this._elButton.classList.remove("disabled")},_onButtonClick:function(t){this._bIsDisabled||this.dispatchEvent(this.REQUEST_TOGGLE_DIRECTION)}}},38(t){"use strict";t.exports=function(){},t.exports.prototype={DEFAULT:"default",SWAPPED:"swapped"}},1344(t){"use strict";t.exports=function(){this.__construct()},t.exports.prototype={_elRoot:null,__construct:function(){this._elRoot=document.querySelector('[data-mimoto-id="component_Waiting"]')},show:function(){this._elRoot.classList.add("show")},hide:function(){this._elRoot.classList.remove("show")}}},260(t,e,n){"use strict";const o=n(961),r=n(862),i=n(1964),s=n(4608);t.exports=function(){this.__construct()},t.exports.prototype={_aReceivedPackages:[],_aPackagesReadyForTransfer:[],_packageCurrentlyInTransfer:null,_myKeyPair:null,_sTheirPublicKey:"",_nSizePerPackage:1e5,_timerPackageTransfer:null,_bPaused:!1,DATA_READY_FOR_TRANSFER:"data_ready_for_transfer",DATA_LOADING:"DATA_LOADING",DATA_READY_FOR_DISPLAY:"data_ready_for_display",__construct:function(){new o(this),this._myKeyPair=r.keyPair()},getMyPublicKey:function(){return this._myKeyPair.publicKey},setTheirPublicKey:function(t){this._sTheirPublicKey=t},pause:function(){this._bPaused=!0,this._timerPackageTransfer&&clearInterval(this._timerPackageTransfer),this._timerPackageTransfer=null},resume:function(t){this._bPaused=!t,this._transferPackages()},prepareDataForTransfer:function(t){let e=JSON.stringify(t.value),n=t.sType===s.prototype.DATATYPE_FILE?r.encrypt(t.value.fileName,this._sTheirPublicKey,this._myKeyPair.secretKey):"";t.value="",t.id=i({length:32}),t.packageCount=Math.ceil(e.length/this._nSizePerPackage),t.totalSize=e.length;for(let o=0;o<t.packageCount;o++){let r=JSON.parse(JSON.stringify(t));r.packageNumber=o;let i=e.substr(o*this._nSizePerPackage,this._nSizePerPackage);r.packageSize=i.length,r.value=i,0===o&&(r.metaData={},t.sType===s.prototype.DATATYPE_FILE&&(r.metaData.fileName=n)),this._aPackagesReadyForTransfer.push(r)}null===this._timerPackageTransfer&&(this._timerPackageTransfer=setInterval(this._transferPackages.bind(this),10))},continueToNextPackage:function(t){if(this._packageCurrentlyInTransfer){if(!t||t.dataID!==this._packageCurrentlyInTransfer.id||t.packageNumber!==this._packageCurrentlyInTransfer.packageNumber)return;this._packageCurrentlyInTransfer=null}this._bPaused||this._aPackagesReadyForTransfer.length>0&&!this._timerPackageTransfer&&(this._timerPackageTransfer=setInterval(this._transferPackages.bind(this),100))},_transferPackages:function(){this._timerPackageTransfer&&clearInterval(this._timerPackageTransfer),this._timerPackageTransfer=null,this._bPaused||(this._aPackagesReadyForTransfer.length>0||this._packageCurrentlyInTransfer)&&(this._packageCurrentlyInTransfer||(this._packageCurrentlyInTransfer=this._aPackagesReadyForTransfer.shift(),this._packageCurrentlyInTransfer.value=r.encrypt(this._packageCurrentlyInTransfer.value,this._sTheirPublicKey,this._myKeyPair.secretKey)),this.dispatchEvent(this.DATA_READY_FOR_TRANSFER,this._packageCurrentlyInTransfer))},addPackage:function(t){this._aReceivedPackages[t.id]||(this._aReceivedPackages[t.id]={id:t.id,sType:t.sType,packageCount:t.packageCount,receivedCount:0,packages:[]}),this._aReceivedPackages[t.id].packages[t.packageNumber]=t,this._aReceivedPackages[t.id].receivedCount=Object.keys(this._aReceivedPackages[t.id].packages).length;let e={id:t.id,sType:t.sType,receivedCount:this._aReceivedPackages[t.id].receivedCount,totalCount:this._aReceivedPackages[t.id].packageCount};t.sType===s.prototype.DATATYPE_FILE&&t.metaData&&t.metaData.fileName&&(e.sFileName=r.decrypt(t.metaData.fileName.data,t.metaData.fileName.nonce,this._sTheirPublicKey,this._myKeyPair.secretKey)),this.dispatchEvent(this.DATA_LOADING,e);let n=r.decrypt(t.value.data,t.value.nonce,this._sTheirPublicKey,this._myKeyPair.secretKey);if(t.value=n,this._aReceivedPackages[t.id].receivedCount===this._aReceivedPackages[t.id].packageCount){e.value="";for(let n=0;n<this._aReceivedPackages[t.id].packageCount;n++)e.value+=this._aReceivedPackages[t.id].packages[n].value;e.value=JSON.parse(e.value),delete this._aReceivedPackages[t.id],this.dispatchEvent(this.DATA_READY_FOR_DISPLAY,e)}}}},961(t){"use strict";t.exports=function(t){this.__construct(t)},t.exports.prototype={__construct:function(t){t.__EventDispatcherExtender_aInputs=[],t.addEventListener=function(t,e){this.__EventDispatcherExtender_aInputs[t]||(this.__EventDispatcherExtender_aInputs[t]=[]),this.__EventDispatcherExtender_aInputs[t].push(e)},t.dispatchEvent=function(t){if(this.__EventDispatcherExtender_aInputs[t]){let e=this.__EventDispatcherExtender_aInputs[t].length;for(let n=0;n<e;n++){this.__EventDispatcherExtender_aInputs[t][n].apply(this,Array.prototype.slice.call(arguments,1))}}}}}},6673(t){function e(){return new DOMException("The request is not allowed","NotAllowedError")}
/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.exports=async function(t){try{await async function(t){if(!navigator.clipboard)throw e();return navigator.clipboard.writeText(t)}(t)}catch(n){try{await async function(t){const n=document.createElement("span");n.textContent=t,n.style.whiteSpace="pre",n.style.webkitUserSelect="auto",n.style.userSelect="all",document.body.appendChild(n);const o=window.getSelection(),r=window.document.createRange();o.removeAllRanges(),r.selectNode(n),o.addRange(r);let i=!1;try{i=window.document.execCommand("copy")}finally{o.removeAllRanges(),window.document.body.removeChild(n)}if(!i)throw e()}(t)}catch(t){throw t||n||e()}}}},7833(t,e,n){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let o=0,r=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(o++,"%c"===t&&(r=o))}),e.splice(r,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n(736)(e);const{formatters:o}=t.exports;o.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},736(t,e,n){t.exports=function(t){function e(t){let n,r,i,s=null;function a(...t){if(!a.enabled)return;const o=a,r=Number(new Date),i=r-(n||r);o.diff=i,o.prev=n,o.curr=r,n=r,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";s++;const i=e.formatters[r];if("function"==typeof i){const e=t[s];n=i.call(o,e),t.splice(s,1),s--}return n}),e.formatArgs.call(o,t);(o.log||e.log).apply(o,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=o,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==e.namespaces&&(r=e.namespaces,i=e.enabled(t)),i),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function o(t,n){const o=e(this.namespace+(void 0===n?":":n)+t);return o.log=this.log,o}function r(t,e){let n=0,o=0,r=-1,i=0;for(;n<t.length;)if(o<e.length&&(e[o]===t[n]||"*"===e[o]))"*"===e[o]?(r=o,i=n,o++):(n++,o++);else{if(-1===r)return!1;o=r+1,i++,n=i}for(;o<e.length&&"*"===e[o];)o++;return o===e.length}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names,...e.skips.map(t=>"-"+t)].join(",");return e.enable(""),t},e.enable=function(t){e.save(t),e.namespaces=t,e.names=[],e.skips=[];const n=("string"==typeof t?t:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const t of n)"-"===t[0]?e.skips.push(t.slice(1)):e.names.push(t)},e.enabled=function(t){for(const n of e.skips)if(r(t,n))return!1;for(const n of e.names)if(r(t,n))return!0;return!1},e.humanize=n(6585),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(n=>{e[n]=t[n]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}},6320(t){"use strict";var e={single_source_shortest_paths:function(t,n,o){var r={},i={};i[n]=0;var s,a,c,h,l,u,d,p=e.PriorityQueue.make();for(p.push(n,0);!p.empty();)for(c in a=(s=p.pop()).value,h=s.cost,l=t[a]||{})l.hasOwnProperty(c)&&(u=h+l[c],d=i[c],(void 0===i[c]||d>u)&&(i[c]=u,p.push(c,u),r[c]=a));if(void 0!==o&&void 0===i[o]){var f=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(f)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],o=e;o;)n.push(o),t[o],o=t[o];return n.reverse(),n},find_path:function(t,n,o){var r=e.single_source_shortest_paths(t,n,o);return e.extract_shortest_path_from_predecessor_list(r,o)},PriorityQueue:{make:function(t){var n,o=e.PriorityQueue,r={};for(n in t=t||{},o)o.hasOwnProperty(n)&&(r[n]=o[n]);return r.queue=[],r.sorter=t.sorter||o.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e},8385(t,e,n){!function(e,o){"use strict";t.exports?t.exports=o(n(3851)):e.ed2curve=o(e.nacl)}(this,function(t){"use strict";if(!t)throw new Error("tweetnacl not loaded");var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},n=e(),o=e([1]),r=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),i=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function s(t){var e,n;for(n=0;n<16;n++)t[n]+=65536,e=Math.floor(t[n]/65536),t[(n+1)*(n<15?1:0)]+=e-1+37*(e-1)*(15===n?1:0),t[n]-=65536*e}function a(t,e,n){for(var o,r=~(n-1),i=0;i<16;i++)o=r&(t[i]^e[i]),t[i]^=o,e[i]^=o}function c(t,e,n){var o;for(o=0;o<16;o++)t[o]=e[o]+n[o]|0}function h(t,e,n){var o;for(o=0;o<16;o++)t[o]=e[o]-n[o]|0}function l(t,e,n){var o,r,i=new Float64Array(31);for(o=0;o<31;o++)i[o]=0;for(o=0;o<16;o++)for(r=0;r<16;r++)i[o+r]+=e[o]*n[r];for(o=0;o<15;o++)i[o]+=38*i[o+16];for(o=0;o<16;o++)t[o]=i[o];s(t),s(t)}function u(t,e){l(t,e,e)}function d(t,n){var o,r,i,c=e(),h=e();for(o=0;o<16;o++)h[o]=n[o];for(s(h),s(h),s(h),r=0;r<2;r++){for(c[0]=h[0]-65517,o=1;o<15;o++)c[o]=h[o]-65535-(c[o-1]>>16&1),c[o-1]&=65535;c[15]=h[15]-32767-(c[14]>>16&1),i=c[15]>>16&1,c[14]&=65535,a(h,c,1-i)}for(o=0;o<16;o++)t[2*o]=255&h[o],t[2*o+1]=h[o]>>8}function p(t,e){var n=new Uint8Array(32),o=new Uint8Array(32);return d(n,t),d(o,e),function(t,e,n,o,r){var i,s=0;for(i=0;i<r;i++)s|=t[e+i]^n[o+i];return(1&s-1>>>8)-1}(n,0,o,0,32)}function f(t,s){var a,f,_=e(),y=e(),g=e(),m=e(),E=e(),C=e(),b=e();return function(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}(t[2],o),function(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}(t[1],s),u(g,t[1]),l(m,g,r),h(g,g,t[2]),c(m,t[2],m),u(E,m),u(C,E),l(b,C,E),l(_,b,g),l(_,_,m),function(t,n){var o,r=e();for(o=0;o<16;o++)r[o]=n[o];for(o=250;o>=0;o--)u(r,r),1!==o&&l(r,r,n);for(o=0;o<16;o++)t[o]=r[o]}(_,_),l(_,_,g),l(_,_,m),l(_,_,m),l(t[0],_,m),u(y,t[0]),l(y,y,m),p(y,g)&&l(t[0],t[0],i),u(y,t[0]),l(y,y,m),p(y,g)?-1:(a=t[0],d(f=new Uint8Array(32),a),(1&f[0])==s[31]>>7&&h(t[0],n,t[0]),l(t[3],t[0],t[1]),0)}function _(t){var n=new Uint8Array(32),r=[e(),e(),e(),e()],i=e(),s=e();if(f(r,t))return null;var a=r[1];return c(i,o,a),h(s,o,a),function(t,n){var o,r=e();for(o=0;o<16;o++)r[o]=n[o];for(o=253;o>=0;o--)u(r,r),2!==o&&4!==o&&l(r,r,n);for(o=0;o<16;o++)t[o]=r[o]}(s,s),l(i,i,s),d(n,i),n}function y(e){var n,o=new Uint8Array(64),r=new Uint8Array(32);for(t.lowlevel.crypto_hash(o,e,32),o[0]&=248,o[31]&=127,o[31]|=64,n=0;n<32;n++)r[n]=o[n];for(n=0;n<64;n++)o[n]=0;return r}return{convertPublicKey:_,convertSecretKey:y,convertKeyPair:function(t){var e=_(t.publicKey);return e?{publicKey:e,secretKey:y(t.secretKey)}:null}}})},3851(t,e,n){!function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},o=function(){throw new Error("no PRNG")},r=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),c=e([56129,1]),h=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(t,e,n,o){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=o>>24&255,t[e+5]=o>>16&255,t[e+6]=o>>8&255,t[e+7]=255&o}function _(t,e,n,o,r){var i,s=0;for(i=0;i<r;i++)s|=t[e+i]^n[o+i];return(1&s-1>>>8)-1}function y(t,e,n,o){return _(t,e,n,o,16)}function g(t,e,n,o){return _(t,e,n,o,32)}function m(t,e,n,o){!function(t,e,n,o){for(var r,i=255&o[0]|(255&o[1])<<8|(255&o[2])<<16|(255&o[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,h=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&o[4]|(255&o[5])<<8|(255&o[6])<<16|(255&o[7])<<24,u=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,f=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=255&o[8]|(255&o[9])<<8|(255&o[10])<<16|(255&o[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,E=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,C=255&o[12]|(255&o[13])<<8|(255&o[14])<<16|(255&o[15])<<24,b=i,T=s,v=a,w=c,A=h,R=l,k=u,S=d,D=p,I=f,O=_,N=y,P=g,U=m,M=E,B=C,L=0;L<20;L+=2)b^=(r=(P^=(r=(D^=(r=(A^=(r=b+P|0)<<7|r>>>25)+b|0)<<9|r>>>23)+A|0)<<13|r>>>19)+D|0)<<18|r>>>14,R^=(r=(T^=(r=(U^=(r=(I^=(r=R+T|0)<<7|r>>>25)+R|0)<<9|r>>>23)+I|0)<<13|r>>>19)+U|0)<<18|r>>>14,O^=(r=(k^=(r=(v^=(r=(M^=(r=O+k|0)<<7|r>>>25)+O|0)<<9|r>>>23)+M|0)<<13|r>>>19)+v|0)<<18|r>>>14,B^=(r=(N^=(r=(S^=(r=(w^=(r=B+N|0)<<7|r>>>25)+B|0)<<9|r>>>23)+w|0)<<13|r>>>19)+S|0)<<18|r>>>14,b^=(r=(w^=(r=(v^=(r=(T^=(r=b+w|0)<<7|r>>>25)+b|0)<<9|r>>>23)+T|0)<<13|r>>>19)+v|0)<<18|r>>>14,R^=(r=(A^=(r=(S^=(r=(k^=(r=R+A|0)<<7|r>>>25)+R|0)<<9|r>>>23)+k|0)<<13|r>>>19)+S|0)<<18|r>>>14,O^=(r=(I^=(r=(D^=(r=(N^=(r=O+I|0)<<7|r>>>25)+O|0)<<9|r>>>23)+N|0)<<13|r>>>19)+D|0)<<18|r>>>14,B^=(r=(M^=(r=(U^=(r=(P^=(r=B+M|0)<<7|r>>>25)+B|0)<<9|r>>>23)+P|0)<<13|r>>>19)+U|0)<<18|r>>>14;b=b+i|0,T=T+s|0,v=v+a|0,w=w+c|0,A=A+h|0,R=R+l|0,k=k+u|0,S=S+d|0,D=D+p|0,I=I+f|0,O=O+_|0,N=N+y|0,P=P+g|0,U=U+m|0,M=M+E|0,B=B+C|0,t[0]=b>>>0&255,t[1]=b>>>8&255,t[2]=b>>>16&255,t[3]=b>>>24&255,t[4]=T>>>0&255,t[5]=T>>>8&255,t[6]=T>>>16&255,t[7]=T>>>24&255,t[8]=v>>>0&255,t[9]=v>>>8&255,t[10]=v>>>16&255,t[11]=v>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=A>>>0&255,t[17]=A>>>8&255,t[18]=A>>>16&255,t[19]=A>>>24&255,t[20]=R>>>0&255,t[21]=R>>>8&255,t[22]=R>>>16&255,t[23]=R>>>24&255,t[24]=k>>>0&255,t[25]=k>>>8&255,t[26]=k>>>16&255,t[27]=k>>>24&255,t[28]=S>>>0&255,t[29]=S>>>8&255,t[30]=S>>>16&255,t[31]=S>>>24&255,t[32]=D>>>0&255,t[33]=D>>>8&255,t[34]=D>>>16&255,t[35]=D>>>24&255,t[36]=I>>>0&255,t[37]=I>>>8&255,t[38]=I>>>16&255,t[39]=I>>>24&255,t[40]=O>>>0&255,t[41]=O>>>8&255,t[42]=O>>>16&255,t[43]=O>>>24&255,t[44]=N>>>0&255,t[45]=N>>>8&255,t[46]=N>>>16&255,t[47]=N>>>24&255,t[48]=P>>>0&255,t[49]=P>>>8&255,t[50]=P>>>16&255,t[51]=P>>>24&255,t[52]=U>>>0&255,t[53]=U>>>8&255,t[54]=U>>>16&255,t[55]=U>>>24&255,t[56]=M>>>0&255,t[57]=M>>>8&255,t[58]=M>>>16&255,t[59]=M>>>24&255,t[60]=B>>>0&255,t[61]=B>>>8&255,t[62]=B>>>16&255,t[63]=B>>>24&255}(t,e,n,o)}function E(t,e,n,o){!function(t,e,n,o){for(var r,i=255&o[0]|(255&o[1])<<8|(255&o[2])<<16|(255&o[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,h=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&o[4]|(255&o[5])<<8|(255&o[6])<<16|(255&o[7])<<24,u=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,f=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=255&o[8]|(255&o[9])<<8|(255&o[10])<<16|(255&o[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,E=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,C=255&o[12]|(255&o[13])<<8|(255&o[14])<<16|(255&o[15])<<24,b=0;b<20;b+=2)i^=(r=(g^=(r=(p^=(r=(h^=(r=i+g|0)<<7|r>>>25)+i|0)<<9|r>>>23)+h|0)<<13|r>>>19)+p|0)<<18|r>>>14,l^=(r=(s^=(r=(m^=(r=(f^=(r=l+s|0)<<7|r>>>25)+l|0)<<9|r>>>23)+f|0)<<13|r>>>19)+m|0)<<18|r>>>14,_^=(r=(u^=(r=(a^=(r=(E^=(r=_+u|0)<<7|r>>>25)+_|0)<<9|r>>>23)+E|0)<<13|r>>>19)+a|0)<<18|r>>>14,C^=(r=(y^=(r=(d^=(r=(c^=(r=C+y|0)<<7|r>>>25)+C|0)<<9|r>>>23)+c|0)<<13|r>>>19)+d|0)<<18|r>>>14,i^=(r=(c^=(r=(a^=(r=(s^=(r=i+c|0)<<7|r>>>25)+i|0)<<9|r>>>23)+s|0)<<13|r>>>19)+a|0)<<18|r>>>14,l^=(r=(h^=(r=(d^=(r=(u^=(r=l+h|0)<<7|r>>>25)+l|0)<<9|r>>>23)+u|0)<<13|r>>>19)+d|0)<<18|r>>>14,_^=(r=(f^=(r=(p^=(r=(y^=(r=_+f|0)<<7|r>>>25)+_|0)<<9|r>>>23)+y|0)<<13|r>>>19)+p|0)<<18|r>>>14,C^=(r=(E^=(r=(m^=(r=(g^=(r=C+E|0)<<7|r>>>25)+C|0)<<9|r>>>23)+g|0)<<13|r>>>19)+m|0)<<18|r>>>14;t[0]=i>>>0&255,t[1]=i>>>8&255,t[2]=i>>>16&255,t[3]=i>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=_>>>0&255,t[9]=_>>>8&255,t[10]=_>>>16&255,t[11]=_>>>24&255,t[12]=C>>>0&255,t[13]=C>>>8&255,t[14]=C>>>16&255,t[15]=C>>>24&255,t[16]=u>>>0&255,t[17]=u>>>8&255,t[18]=u>>>16&255,t[19]=u>>>24&255,t[20]=d>>>0&255,t[21]=d>>>8&255,t[22]=d>>>16&255,t[23]=d>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=f>>>0&255,t[29]=f>>>8&255,t[30]=f>>>16&255,t[31]=f>>>24&255}(t,e,n,o)}var C=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(t,e,n,o,r,i,s){var a,c,h=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)h[c]=0;for(c=0;c<8;c++)h[c]=i[c];for(;r>=64;){for(m(l,h,s,C),c=0;c<64;c++)t[e+c]=n[o+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&h[c])|0,h[c]=255&a,a>>>=8;r-=64,e+=64,o+=64}if(r>0)for(m(l,h,s,C),c=0;c<r;c++)t[e+c]=n[o+c]^l[c];return 0}function T(t,e,n,o,r){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=o[s];for(;n>=64;){for(m(c,a,r,C),s=0;s<64;s++)t[e+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;n-=64,e+=64}if(n>0)for(m(c,a,r,C),s=0;s<n;s++)t[e+s]=c[s];return 0}function v(t,e,n,o,r){var i=new Uint8Array(32);E(i,o,r,C);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=o[a+16];return T(t,e,n,s,i)}function w(t,e,n,o,r,i,s){var a=new Uint8Array(32);E(a,i,s,C);for(var c=new Uint8Array(8),h=0;h<8;h++)c[h]=i[h+16];return b(t,e,n,o,r,c,a)}var A=function(t){var e,n,o,r,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),o=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|o<<6),r=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(o>>>7|r<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(r>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function R(t,e,n,o,r,i){var s=new A(i);return s.update(n,o,r),s.finish(t,e),0}function k(t,e,n,o,r,i){var s=new Uint8Array(16);return R(s,0,n,o,r,i),y(t,e,s,0)}function S(t,e,n,o,r){var i;if(n<32)return-1;for(w(t,0,e,0,n,o,r),R(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0;return 0}function D(t,e,n,o,r){var i,s=new Uint8Array(32);if(n<32)return-1;if(v(s,0,32,o,r),0!==k(e,16,e,32,n-32,s))return-1;for(w(t,0,e,0,n,o,r),i=0;i<32;i++)t[i]=0;return 0}function I(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function O(t){var e,n,o=1;for(e=0;e<16;e++)n=t[e]+o+65535,o=Math.floor(n/65536),t[e]=n-65536*o;t[0]+=o-1+37*(o-1)}function N(t,e,n){for(var o,r=~(n-1),i=0;i<16;i++)o=r&(t[i]^e[i]),t[i]^=o,e[i]^=o}function P(t,n){var o,r,i,s=e(),a=e();for(o=0;o<16;o++)a[o]=n[o];for(O(a),O(a),O(a),r=0;r<2;r++){for(s[0]=a[0]-65517,o=1;o<15;o++)s[o]=a[o]-65535-(s[o-1]>>16&1),s[o-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,N(a,s,1-i)}for(o=0;o<16;o++)t[2*o]=255&a[o],t[2*o+1]=a[o]>>8}function U(t,e){var n=new Uint8Array(32),o=new Uint8Array(32);return P(n,t),P(o,e),g(n,0,o,0)}function M(t){var e=new Uint8Array(32);return P(e,t),1&e[0]}function B(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function L(t,e,n){for(var o=0;o<16;o++)t[o]=e[o]+n[o]}function x(t,e,n){for(var o=0;o<16;o++)t[o]=e[o]-n[o]}function F(t,e,n){var o,r,i=0,s=0,a=0,c=0,h=0,l=0,u=0,d=0,p=0,f=0,_=0,y=0,g=0,m=0,E=0,C=0,b=0,T=0,v=0,w=0,A=0,R=0,k=0,S=0,D=0,I=0,O=0,N=0,P=0,U=0,M=0,B=n[0],L=n[1],x=n[2],F=n[3],V=n[4],Y=n[5],q=n[6],K=n[7],j=n[8],H=n[9],Q=n[10],z=n[11],W=n[12],G=n[13],J=n[14],X=n[15];i+=(o=e[0])*B,s+=o*L,a+=o*x,c+=o*F,h+=o*V,l+=o*Y,u+=o*q,d+=o*K,p+=o*j,f+=o*H,_+=o*Q,y+=o*z,g+=o*W,m+=o*G,E+=o*J,C+=o*X,s+=(o=e[1])*B,a+=o*L,c+=o*x,h+=o*F,l+=o*V,u+=o*Y,d+=o*q,p+=o*K,f+=o*j,_+=o*H,y+=o*Q,g+=o*z,m+=o*W,E+=o*G,C+=o*J,b+=o*X,a+=(o=e[2])*B,c+=o*L,h+=o*x,l+=o*F,u+=o*V,d+=o*Y,p+=o*q,f+=o*K,_+=o*j,y+=o*H,g+=o*Q,m+=o*z,E+=o*W,C+=o*G,b+=o*J,T+=o*X,c+=(o=e[3])*B,h+=o*L,l+=o*x,u+=o*F,d+=o*V,p+=o*Y,f+=o*q,_+=o*K,y+=o*j,g+=o*H,m+=o*Q,E+=o*z,C+=o*W,b+=o*G,T+=o*J,v+=o*X,h+=(o=e[4])*B,l+=o*L,u+=o*x,d+=o*F,p+=o*V,f+=o*Y,_+=o*q,y+=o*K,g+=o*j,m+=o*H,E+=o*Q,C+=o*z,b+=o*W,T+=o*G,v+=o*J,w+=o*X,l+=(o=e[5])*B,u+=o*L,d+=o*x,p+=o*F,f+=o*V,_+=o*Y,y+=o*q,g+=o*K,m+=o*j,E+=o*H,C+=o*Q,b+=o*z,T+=o*W,v+=o*G,w+=o*J,A+=o*X,u+=(o=e[6])*B,d+=o*L,p+=o*x,f+=o*F,_+=o*V,y+=o*Y,g+=o*q,m+=o*K,E+=o*j,C+=o*H,b+=o*Q,T+=o*z,v+=o*W,w+=o*G,A+=o*J,R+=o*X,d+=(o=e[7])*B,p+=o*L,f+=o*x,_+=o*F,y+=o*V,g+=o*Y,m+=o*q,E+=o*K,C+=o*j,b+=o*H,T+=o*Q,v+=o*z,w+=o*W,A+=o*G,R+=o*J,k+=o*X,p+=(o=e[8])*B,f+=o*L,_+=o*x,y+=o*F,g+=o*V,m+=o*Y,E+=o*q,C+=o*K,b+=o*j,T+=o*H,v+=o*Q,w+=o*z,A+=o*W,R+=o*G,k+=o*J,S+=o*X,f+=(o=e[9])*B,_+=o*L,y+=o*x,g+=o*F,m+=o*V,E+=o*Y,C+=o*q,b+=o*K,T+=o*j,v+=o*H,w+=o*Q,A+=o*z,R+=o*W,k+=o*G,S+=o*J,D+=o*X,_+=(o=e[10])*B,y+=o*L,g+=o*x,m+=o*F,E+=o*V,C+=o*Y,b+=o*q,T+=o*K,v+=o*j,w+=o*H,A+=o*Q,R+=o*z,k+=o*W,S+=o*G,D+=o*J,I+=o*X,y+=(o=e[11])*B,g+=o*L,m+=o*x,E+=o*F,C+=o*V,b+=o*Y,T+=o*q,v+=o*K,w+=o*j,A+=o*H,R+=o*Q,k+=o*z,S+=o*W,D+=o*G,I+=o*J,O+=o*X,g+=(o=e[12])*B,m+=o*L,E+=o*x,C+=o*F,b+=o*V,T+=o*Y,v+=o*q,w+=o*K,A+=o*j,R+=o*H,k+=o*Q,S+=o*z,D+=o*W,I+=o*G,O+=o*J,N+=o*X,m+=(o=e[13])*B,E+=o*L,C+=o*x,b+=o*F,T+=o*V,v+=o*Y,w+=o*q,A+=o*K,R+=o*j,k+=o*H,S+=o*Q,D+=o*z,I+=o*W,O+=o*G,N+=o*J,P+=o*X,E+=(o=e[14])*B,C+=o*L,b+=o*x,T+=o*F,v+=o*V,w+=o*Y,A+=o*q,R+=o*K,k+=o*j,S+=o*H,D+=o*Q,I+=o*z,O+=o*W,N+=o*G,P+=o*J,U+=o*X,C+=(o=e[15])*B,s+=38*(T+=o*x),a+=38*(v+=o*F),c+=38*(w+=o*V),h+=38*(A+=o*Y),l+=38*(R+=o*q),u+=38*(k+=o*K),d+=38*(S+=o*j),p+=38*(D+=o*H),f+=38*(I+=o*Q),_+=38*(O+=o*z),y+=38*(N+=o*W),g+=38*(P+=o*G),m+=38*(U+=o*J),E+=38*(M+=o*X),i=(o=(i+=38*(b+=o*L))+(r=1)+65535)-65536*(r=Math.floor(o/65536)),s=(o=s+r+65535)-65536*(r=Math.floor(o/65536)),a=(o=a+r+65535)-65536*(r=Math.floor(o/65536)),c=(o=c+r+65535)-65536*(r=Math.floor(o/65536)),h=(o=h+r+65535)-65536*(r=Math.floor(o/65536)),l=(o=l+r+65535)-65536*(r=Math.floor(o/65536)),u=(o=u+r+65535)-65536*(r=Math.floor(o/65536)),d=(o=d+r+65535)-65536*(r=Math.floor(o/65536)),p=(o=p+r+65535)-65536*(r=Math.floor(o/65536)),f=(o=f+r+65535)-65536*(r=Math.floor(o/65536)),_=(o=_+r+65535)-65536*(r=Math.floor(o/65536)),y=(o=y+r+65535)-65536*(r=Math.floor(o/65536)),g=(o=g+r+65535)-65536*(r=Math.floor(o/65536)),m=(o=m+r+65535)-65536*(r=Math.floor(o/65536)),E=(o=E+r+65535)-65536*(r=Math.floor(o/65536)),C=(o=C+r+65535)-65536*(r=Math.floor(o/65536)),i=(o=(i+=r-1+37*(r-1))+(r=1)+65535)-65536*(r=Math.floor(o/65536)),s=(o=s+r+65535)-65536*(r=Math.floor(o/65536)),a=(o=a+r+65535)-65536*(r=Math.floor(o/65536)),c=(o=c+r+65535)-65536*(r=Math.floor(o/65536)),h=(o=h+r+65535)-65536*(r=Math.floor(o/65536)),l=(o=l+r+65535)-65536*(r=Math.floor(o/65536)),u=(o=u+r+65535)-65536*(r=Math.floor(o/65536)),d=(o=d+r+65535)-65536*(r=Math.floor(o/65536)),p=(o=p+r+65535)-65536*(r=Math.floor(o/65536)),f=(o=f+r+65535)-65536*(r=Math.floor(o/65536)),_=(o=_+r+65535)-65536*(r=Math.floor(o/65536)),y=(o=y+r+65535)-65536*(r=Math.floor(o/65536)),g=(o=g+r+65535)-65536*(r=Math.floor(o/65536)),m=(o=m+r+65535)-65536*(r=Math.floor(o/65536)),E=(o=E+r+65535)-65536*(r=Math.floor(o/65536)),C=(o=C+r+65535)-65536*(r=Math.floor(o/65536)),i+=r-1+37*(r-1),t[0]=i,t[1]=s,t[2]=a,t[3]=c,t[4]=h,t[5]=l,t[6]=u,t[7]=d,t[8]=p,t[9]=f,t[10]=_,t[11]=y,t[12]=g,t[13]=m,t[14]=E,t[15]=C}function V(t,e){F(t,e,e)}function Y(t,n){var o,r=e();for(o=0;o<16;o++)r[o]=n[o];for(o=253;o>=0;o--)V(r,r),2!==o&&4!==o&&F(r,r,n);for(o=0;o<16;o++)t[o]=r[o]}function q(t,n,o){var r,i,s=new Uint8Array(32),a=new Float64Array(80),h=e(),l=e(),u=e(),d=e(),p=e(),f=e();for(i=0;i<31;i++)s[i]=n[i];for(s[31]=127&n[31]|64,s[0]&=248,B(a,o),i=0;i<16;i++)l[i]=a[i],d[i]=h[i]=u[i]=0;for(h[0]=d[0]=1,i=254;i>=0;--i)N(h,l,r=s[i>>>3]>>>(7&i)&1),N(u,d,r),L(p,h,u),x(h,h,u),L(u,l,d),x(l,l,d),V(d,p),V(f,h),F(h,u,h),F(u,l,p),L(p,h,u),x(h,h,u),V(l,h),x(u,d,f),F(h,u,c),L(h,h,d),F(u,u,h),F(h,d,f),F(d,l,a),V(l,p),N(h,l,r),N(u,d,r);for(i=0;i<16;i++)a[i+16]=h[i],a[i+32]=u[i],a[i+48]=l[i],a[i+64]=d[i];var _=a.subarray(32),y=a.subarray(16);return Y(_,_),F(y,y,_),P(t,y),0}function K(t,e){return q(t,e,i)}function j(t,e){return o(e,32),K(t,e)}function H(t,e,n){var o=new Uint8Array(32);return q(o,n,e),E(t,r,o,C)}A.prototype.blocks=function(t,e,n){for(var o,r,i,s,a,c,h,l,u,d,p,f,_,y,g,m,E,C,b,T=this.fin?0:2048,v=this.h[0],w=this.h[1],A=this.h[2],R=this.h[3],k=this.h[4],S=this.h[5],D=this.h[6],I=this.h[7],O=this.h[8],N=this.h[9],P=this.r[0],U=this.r[1],M=this.r[2],B=this.r[3],L=this.r[4],x=this.r[5],F=this.r[6],V=this.r[7],Y=this.r[8],q=this.r[9];n>=16;)d=u=0,d+=(v+=8191&(o=255&t[e+0]|(255&t[e+1])<<8))*P,d+=(w+=8191&(o>>>13|(r=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*q),d+=(A+=8191&(r>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*Y),d+=(R+=8191&(i>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*V),u=(d+=(k+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*F))>>>13,d&=8191,d+=(S+=a>>>1&8191)*(5*x),d+=(D+=8191&(a>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*L),d+=(I+=8191&(c>>>11|(h=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*B),d+=(O+=8191&(h>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*M),p=u+=(d+=(N+=l>>>5|T)*(5*U))>>>13,p+=v*U,p+=w*P,p+=A*(5*q),p+=R*(5*Y),u=(p+=k*(5*V))>>>13,p&=8191,p+=S*(5*F),p+=D*(5*x),p+=I*(5*L),p+=O*(5*B),u+=(p+=N*(5*M))>>>13,p&=8191,f=u,f+=v*M,f+=w*U,f+=A*P,f+=R*(5*q),u=(f+=k*(5*Y))>>>13,f&=8191,f+=S*(5*V),f+=D*(5*F),f+=I*(5*x),f+=O*(5*L),_=u+=(f+=N*(5*B))>>>13,_+=v*B,_+=w*M,_+=A*U,_+=R*P,u=(_+=k*(5*q))>>>13,_&=8191,_+=S*(5*Y),_+=D*(5*V),_+=I*(5*F),_+=O*(5*x),y=u+=(_+=N*(5*L))>>>13,y+=v*L,y+=w*B,y+=A*M,y+=R*U,u=(y+=k*P)>>>13,y&=8191,y+=S*(5*q),y+=D*(5*Y),y+=I*(5*V),y+=O*(5*F),g=u+=(y+=N*(5*x))>>>13,g+=v*x,g+=w*L,g+=A*B,g+=R*M,u=(g+=k*U)>>>13,g&=8191,g+=S*P,g+=D*(5*q),g+=I*(5*Y),g+=O*(5*V),m=u+=(g+=N*(5*F))>>>13,m+=v*F,m+=w*x,m+=A*L,m+=R*B,u=(m+=k*M)>>>13,m&=8191,m+=S*U,m+=D*P,m+=I*(5*q),m+=O*(5*Y),E=u+=(m+=N*(5*V))>>>13,E+=v*V,E+=w*F,E+=A*x,E+=R*L,u=(E+=k*B)>>>13,E&=8191,E+=S*M,E+=D*U,E+=I*P,E+=O*(5*q),C=u+=(E+=N*(5*Y))>>>13,C+=v*Y,C+=w*V,C+=A*F,C+=R*x,u=(C+=k*L)>>>13,C&=8191,C+=S*B,C+=D*M,C+=I*U,C+=O*P,b=u+=(C+=N*(5*q))>>>13,b+=v*q,b+=w*Y,b+=A*V,b+=R*F,u=(b+=k*x)>>>13,b&=8191,b+=S*L,b+=D*B,b+=I*M,b+=O*U,v=d=8191&(u=(u=((u+=(b+=N*P)>>>13)<<2)+u|0)+(d&=8191)|0),w=p+=u>>>=13,A=f&=8191,R=_&=8191,k=y&=8191,S=g&=8191,D=m&=8191,I=E&=8191,O=C&=8191,N=b&=8191,e+=16,n-=16;this.h[0]=v,this.h[1]=w,this.h[2]=A,this.h[3]=R,this.h[4]=k,this.h[5]=S,this.h[6]=D,this.h[7]=I,this.h[8]=O,this.h[9]=N},A.prototype.finish=function(t,e){var n,o,r,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+n,n=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,o=(1^n)-1,i=0;i<10;i++)s[i]&=o;for(o=~o,i=0;i<10;i++)this.h[i]=this.h[i]&o|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),r=this.h[0]+this.pad[0],this.h[0]=65535&r,i=1;i<8;i++)r=(this.h[i]+this.pad[i]|0)+(r>>>16)|0,this.h[i]=65535&r;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},A.prototype.update=function(t,e,n){var o,r;if(this.leftover){for((r=16-this.leftover)>n&&(r=n),o=0;o<r;o++)this.buffer[this.leftover+o]=t[e+o];if(n-=r,e+=r,this.leftover+=r,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(r=n-n%16,this.blocks(t,e,r),e+=r,n-=r),n){for(o=0;o<n;o++)this.buffer[this.leftover+o]=t[e+o];this.leftover+=n}};var Q=S,z=D;var W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G(t,e,n,o){for(var r,i,s,a,c,h,l,u,d,p,f,_,y,g,m,E,C,b,T,v,w,A,R,k,S,D,I=new Int32Array(16),O=new Int32Array(16),N=t[0],P=t[1],U=t[2],M=t[3],B=t[4],L=t[5],x=t[6],F=t[7],V=e[0],Y=e[1],q=e[2],K=e[3],j=e[4],H=e[5],Q=e[6],z=e[7],G=0;o>=128;){for(T=0;T<16;T++)v=8*T+G,I[T]=n[v+0]<<24|n[v+1]<<16|n[v+2]<<8|n[v+3],O[T]=n[v+4]<<24|n[v+5]<<16|n[v+6]<<8|n[v+7];for(T=0;T<80;T++)if(r=N,i=P,s=U,a=M,c=B,h=L,l=x,F,d=V,p=Y,f=q,_=K,y=j,g=H,m=Q,z,R=65535&(A=z),k=A>>>16,S=65535&(w=F),D=w>>>16,R+=65535&(A=(j>>>14|B<<18)^(j>>>18|B<<14)^(B>>>9|j<<23)),k+=A>>>16,S+=65535&(w=(B>>>14|j<<18)^(B>>>18|j<<14)^(j>>>9|B<<23)),D+=w>>>16,R+=65535&(A=j&H^~j&Q),k+=A>>>16,S+=65535&(w=B&L^~B&x),D+=w>>>16,R+=65535&(A=W[2*T+1]),k+=A>>>16,S+=65535&(w=W[2*T]),D+=w>>>16,w=I[T%16],k+=(A=O[T%16])>>>16,S+=65535&w,D+=w>>>16,S+=(k+=(R+=65535&A)>>>16)>>>16,R=65535&(A=b=65535&R|k<<16),k=A>>>16,S=65535&(w=C=65535&S|(D+=S>>>16)<<16),D=w>>>16,R+=65535&(A=(V>>>28|N<<4)^(N>>>2|V<<30)^(N>>>7|V<<25)),k+=A>>>16,S+=65535&(w=(N>>>28|V<<4)^(V>>>2|N<<30)^(V>>>7|N<<25)),D+=w>>>16,k+=(A=V&Y^V&q^Y&q)>>>16,S+=65535&(w=N&P^N&U^P&U),D+=w>>>16,u=65535&(S+=(k+=(R+=65535&A)>>>16)>>>16)|(D+=S>>>16)<<16,E=65535&R|k<<16,R=65535&(A=_),k=A>>>16,S=65535&(w=a),D=w>>>16,k+=(A=b)>>>16,S+=65535&(w=C),D+=w>>>16,P=r,U=i,M=s,B=a=65535&(S+=(k+=(R+=65535&A)>>>16)>>>16)|(D+=S>>>16)<<16,L=c,x=h,F=l,N=u,Y=d,q=p,K=f,j=_=65535&R|k<<16,H=y,Q=g,z=m,V=E,T%16==15)for(v=0;v<16;v++)w=I[v],R=65535&(A=O[v]),k=A>>>16,S=65535&w,D=w>>>16,w=I[(v+9)%16],R+=65535&(A=O[(v+9)%16]),k+=A>>>16,S+=65535&w,D+=w>>>16,C=I[(v+1)%16],R+=65535&(A=((b=O[(v+1)%16])>>>1|C<<31)^(b>>>8|C<<24)^(b>>>7|C<<25)),k+=A>>>16,S+=65535&(w=(C>>>1|b<<31)^(C>>>8|b<<24)^C>>>7),D+=w>>>16,C=I[(v+14)%16],k+=(A=((b=O[(v+14)%16])>>>19|C<<13)^(C>>>29|b<<3)^(b>>>6|C<<26))>>>16,S+=65535&(w=(C>>>19|b<<13)^(b>>>29|C<<3)^C>>>6),D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,I[v]=65535&S|D<<16,O[v]=65535&R|k<<16;R=65535&(A=V),k=A>>>16,S=65535&(w=N),D=w>>>16,w=t[0],k+=(A=e[0])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[0]=N=65535&S|D<<16,e[0]=V=65535&R|k<<16,R=65535&(A=Y),k=A>>>16,S=65535&(w=P),D=w>>>16,w=t[1],k+=(A=e[1])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[1]=P=65535&S|D<<16,e[1]=Y=65535&R|k<<16,R=65535&(A=q),k=A>>>16,S=65535&(w=U),D=w>>>16,w=t[2],k+=(A=e[2])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[2]=U=65535&S|D<<16,e[2]=q=65535&R|k<<16,R=65535&(A=K),k=A>>>16,S=65535&(w=M),D=w>>>16,w=t[3],k+=(A=e[3])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[3]=M=65535&S|D<<16,e[3]=K=65535&R|k<<16,R=65535&(A=j),k=A>>>16,S=65535&(w=B),D=w>>>16,w=t[4],k+=(A=e[4])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[4]=B=65535&S|D<<16,e[4]=j=65535&R|k<<16,R=65535&(A=H),k=A>>>16,S=65535&(w=L),D=w>>>16,w=t[5],k+=(A=e[5])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[5]=L=65535&S|D<<16,e[5]=H=65535&R|k<<16,R=65535&(A=Q),k=A>>>16,S=65535&(w=x),D=w>>>16,w=t[6],k+=(A=e[6])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[6]=x=65535&S|D<<16,e[6]=Q=65535&R|k<<16,R=65535&(A=z),k=A>>>16,S=65535&(w=F),D=w>>>16,w=t[7],k+=(A=e[7])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[7]=F=65535&S|D<<16,e[7]=z=65535&R|k<<16,G+=128,o-=128}return o}function J(t,e,n){var o,r=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=n;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,G(r,i,e,n),n%=128,o=0;o<n;o++)s[o]=e[a-n+o];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,f(s,n-8,a/536870912|0,a<<3),G(r,i,s,n),o=0;o<8;o++)f(t,8*o,r[o],i[o]);return 0}function X(t,n){var o=e(),r=e(),i=e(),s=e(),a=e(),c=e(),h=e(),u=e(),d=e();x(o,t[1],t[0]),x(d,n[1],n[0]),F(o,o,d),L(r,t[0],t[1]),L(d,n[0],n[1]),F(r,r,d),F(i,t[3],n[3]),F(i,i,l),F(s,t[2],n[2]),L(s,s,s),x(a,r,o),x(c,s,i),L(h,s,i),L(u,r,o),F(t[0],a,c),F(t[1],u,h),F(t[2],h,c),F(t[3],a,u)}function $(t,e,n){var o;for(o=0;o<4;o++)N(t[o],e[o],n)}function Z(t,n){var o=e(),r=e(),i=e();Y(i,n[2]),F(o,n[0],i),F(r,n[1],i),P(t,r),t[31]^=M(o)<<7}function tt(t,e,n){var o,r;for(I(t[0],s),I(t[1],a),I(t[2],a),I(t[3],s),r=255;r>=0;--r)$(t,e,o=n[r/8|0]>>(7&r)&1),X(e,t),X(t,t),$(t,e,o)}function et(t,n){var o=[e(),e(),e(),e()];I(o[0],u),I(o[1],d),I(o[2],a),F(o[3],u,d),tt(t,o,n)}function nt(t,n,r){var i,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(r||o(n,32),J(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,et(a,s),Z(t,a),i=0;i<32;i++)n[i+32]=t[i];return 0}var ot=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function rt(t,e){var n,o,r,i;for(o=63;o>=32;--o){for(n=0,r=o-32,i=o-12;r<i;++r)e[r]+=n-16*e[o]*ot[r-(o-32)],n=e[r]+128>>8,e[r]-=256*n;e[r]+=n,e[o]=0}for(n=0,r=0;r<32;r++)e[r]+=n-(e[31]>>4)*ot[r],n=e[r]>>8,e[r]&=255;for(r=0;r<32;r++)e[r]-=n*ot[r];for(o=0;o<32;o++)e[o+1]+=e[o]>>8,t[o]=255&e[o]}function it(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;rt(t,n)}function st(t,n,o,r){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),h=new Uint8Array(64),l=new Float64Array(64),u=[e(),e(),e(),e()];J(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64;var d=o+64;for(i=0;i<o;i++)t[64+i]=n[i];for(i=0;i<32;i++)t[32+i]=a[32+i];for(J(h,t.subarray(32),o+32),it(h),et(u,h),Z(t,u),i=32;i<64;i++)t[i]=r[i];for(J(c,t,o+64),it(c),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=h[i];for(i=0;i<32;i++)for(s=0;s<32;s++)l[i+s]+=c[i]*a[s];return rt(t.subarray(32),l),d}function at(t,n){var o=e(),r=e(),i=e(),c=e(),l=e(),u=e(),d=e();return I(t[2],a),B(t[1],n),V(i,t[1]),F(c,i,h),x(i,i,t[2]),L(c,t[2],c),V(l,c),V(u,l),F(d,u,l),F(o,d,i),F(o,o,c),function(t,n){var o,r=e();for(o=0;o<16;o++)r[o]=n[o];for(o=250;o>=0;o--)V(r,r),1!==o&&F(r,r,n);for(o=0;o<16;o++)t[o]=r[o]}(o,o),F(o,o,i),F(o,o,c),F(o,o,c),F(t[0],o,c),V(r,t[0]),F(r,r,c),U(r,i)&&F(t[0],t[0],p),V(r,t[0]),F(r,r,c),U(r,i)?-1:(M(t[0])===n[31]>>7&&x(t[0],s,t[0]),F(t[3],t[0],t[1]),0)}function ct(t,n,o,r){var i,s=new Uint8Array(32),a=new Uint8Array(64),c=[e(),e(),e(),e()],h=[e(),e(),e(),e()];if(o<64)return-1;if(at(h,r))return-1;for(i=0;i<o;i++)t[i]=n[i];for(i=0;i<32;i++)t[i+32]=r[i];if(J(a,t,o),it(a),tt(c,h,a),et(h,n.subarray(32)),X(c,h),Z(s,c),o-=64,g(n,0,s,0)){for(i=0;i<o;i++)t[i]=0;return-1}for(i=0;i<o;i++)t[i]=n[i+64];return o}var ht=16,lt=64,ut=32,dt=64;function pt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function ft(){var t,e;for(e=0;e<arguments.length;e++)if("[object Uint8Array]"!==(t=Object.prototype.toString.call(arguments[e])))throw new TypeError("unexpected type "+t+", use Uint8Array")}function _t(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:E,crypto_stream_xor:w,crypto_stream:v,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:T,crypto_onetimeauth:R,crypto_onetimeauth_verify:k,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:S,crypto_secretbox_open:D,crypto_scalarmult:q,crypto_scalarmult_base:K,crypto_box_beforenm:H,crypto_box_afternm:Q,crypto_box:function(t,e,n,o,r,i){var s=new Uint8Array(32);return H(s,r,i),Q(t,e,n,o,s)},crypto_box_open:function(t,e,n,o,r,i){var s=new Uint8Array(32);return H(s,r,i),z(t,e,n,o,s)},crypto_box_keypair:j,crypto_hash:J,crypto_sign:st,crypto_sign_keypair:nt,crypto_sign_open:ct,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ht,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:lt,crypto_sign_PUBLICKEYBYTES:ut,crypto_sign_SECRETKEYBYTES:dt,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},t.util||(t.util={},t.util.decodeUTF8=t.util.encodeUTF8=t.util.encodeBase64=t.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),t.randomBytes=function(t){var e=new Uint8Array(t);return o(e,t),e},t.secretbox=function(t,e,n){ft(t,e,n),pt(n,e);for(var o=new Uint8Array(32+t.length),r=new Uint8Array(o.length),i=0;i<t.length;i++)o[i+32]=t[i];return S(r,o,o.length,e,n),r.subarray(ht)},t.secretbox.open=function(t,e,n){ft(t,e,n),pt(n,e);for(var o=new Uint8Array(ht+t.length),r=new Uint8Array(o.length),i=0;i<t.length;i++)o[i+ht]=t[i];return!(o.length<32)&&(0===D(r,o,o.length,e,n)&&r.subarray(32))},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=ht,t.scalarMult=function(t,e){if(ft(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return q(n,t,e),n},t.scalarMult.base=function(t){if(ft(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return K(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,o,r){var i=t.box.before(o,r);return t.secretbox(e,n,i)},t.box.before=function(t,e){ft(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return H(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,o,r){var i=t.box.before(o,r);return t.secretbox.open(e,n,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return j(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(ft(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(ft(t,e),e.length!==dt)throw new Error("bad secret key size");var n=new Uint8Array(lt+t.length);return st(n,t,t.length,e),n},t.sign.open=function(t,e){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(ft(t,e),e.length!==ut)throw new Error("bad public key size");var n=new Uint8Array(t.length),o=ct(n,t,t.length,e);if(o<0)return null;for(var r=new Uint8Array(o),i=0;i<r.length;i++)r[i]=n[i];return r},t.sign.detached=function(e,n){for(var o=t.sign(e,n),r=new Uint8Array(lt),i=0;i<r.length;i++)r[i]=o[i];return r},t.sign.detached.verify=function(t,e,n){if(ft(t,e,n),e.length!==lt)throw new Error("bad signature size");if(n.length!==ut)throw new Error("bad public key size");var o,r=new Uint8Array(lt+t.length),i=new Uint8Array(lt+t.length);for(o=0;o<lt;o++)r[o]=e[o];for(o=0;o<t.length;o++)r[o+lt]=t[o];return ct(i,r,r.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ut),e=new Uint8Array(dt);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(ft(t),t.length!==dt)throw new Error("bad secret key size");for(var e=new Uint8Array(ut),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(ft(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ut),n=new Uint8Array(dt),o=0;o<32;o++)n[o]=t[o];return nt(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=ut,t.sign.secretKeyLength=dt,t.sign.seedLength=32,t.sign.signatureLength=lt,t.hash=function(t){ft(t);var e=new Uint8Array(64);return J(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return ft(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===_(t,0,e,0,t.length))},t.setPRNG=function(t){o=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG(function(t,n){var o,r=new Uint8Array(n);for(o=0;o<n;o+=65536)e.getRandomValues(r.subarray(o,o+Math.min(n-o,65536)));for(o=0;o<n;o++)t[o]=r[o];_t(r)})}else(e=n(3989))&&e.randomBytes&&t.setPRNG(function(t,n){var o,r=e.randomBytes(n);for(o=0;o<n;o++)t[o]=r[o];_t(r)})}()}(t.exports?t.exports:self.nacl=self.nacl||{})},4987(t){function e(t,e,n,o){var r,i=null==(r=o)||"number"==typeof r||"boolean"==typeof r?o:n(o),s=e.get(i);return void 0===s&&(s=t.call(this,o),e.set(i,s)),s}function n(t,e,n){var o=Array.prototype.slice.call(arguments,3),r=n(o),i=e.get(r);return void 0===i&&(i=t.apply(this,o),e.set(r,i)),i}function o(t,e,n,o,r){return n.bind(e,t,o,r)}function r(t,r){return o(t,this,1===t.length?e:n,r.cache.create(),r.serializer)}function i(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(t){return t in this.cache},s.prototype.get=function(t){return this.cache[t]},s.prototype.set=function(t,e){this.cache[t]=e};var a={create:function(){return new s}};t.exports=function(t,e){var n=e&&e.cache?e.cache:a,o=e&&e.serializer?e.serializer:i;return(e&&e.strategy?e.strategy:r)(t,{cache:n,serializer:o})},t.exports.strategies={variadic:function(t,e){return o(t,this,n,e.cache.create(),e.serializer)},monadic:function(t,n){return o(t,this,e,n.cache.create(),n.serializer)}}},4213(t,e,n){var o,r,i;r=[],void 0===(i="function"==typeof(o=function(){"use strict";function e(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function o(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){c(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,e,n){var a=s.URL||s.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):r(c.href)?o(t,e,n):i(c,c.target="_blank")):(c.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(c.href)},4e4),setTimeout(function(){i(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),n);else if(r(t))o(t,n,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){i(a)})}}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return o(t,e,n);var i="application/octet-stream"===t.type,c=/constructor/i.test(s.HTMLElement)||s.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||i&&c||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=h?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var u=s.URL||s.webkitURL,d=u.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});s.saveAs=c.saveAs=c,t.exports=c})?o.apply(e,r):o)||(t.exports=i)},1964(t){function e(t){return Math.floor(Math.random()*t).toString()}function n(t,e){let n=e;return t.forEach(t=>{n=n.replace(t,"")}),n}t.exports=function({length:t=20,useLetters:o=!0,useNumbers:r=!0,includeSymbols:i=[],excludeSymbols:s=[]}={}){let a="abcdefghijklmnopqrstuvwxyz",c="0123456789",h=[],l=[],u=[];return o&&(s.length&&(a=n(s,a)),l=a.split("")),r&&(s.length&&(c=n(s,c)),u=c.split("")),h=[...l,...u,...i],function(t,n){let o="";for(let r=0;r<n;r+=1)o+=t[e(t.length)];return o}(h,t)}},6585(t){var e=1e3,n=60*e,o=60*n,r=24*o,i=7*r,s=365.25*r;function a(t,e,n,o){var r=e>=1.5*n;return Math.round(t/n)+" "+o+(r?"s":"")}t.exports=function(t,c){c=c||{};var h=typeof t;if("string"===h&&t.length>0)return function(t){if((t=String(t)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(t);if("number"===h&&isFinite(t))return c.long?function(t){var i=Math.abs(t);if(i>=r)return a(t,i,r,"day");if(i>=o)return a(t,i,o,"hour");if(i>=n)return a(t,i,n,"minute");if(i>=e)return a(t,i,e,"second");return t+" ms"}(t):function(t){var i=Math.abs(t);if(i>=r)return Math.round(t/r)+"d";if(i>=o)return Math.round(t/o)+"h";if(i>=n)return Math.round(t/n)+"m";if(i>=e)return Math.round(t/e)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},7583(t,e,n){const o=n(1333),r=n(157),i=n(7899),s=n(6756);function a(t,e,n,i,s){const a=[].slice.call(arguments,1),c=a.length,h="function"==typeof a[c-1];if(!h&&!o())throw new Error("Callback required as last argument");if(!h){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=e,e=i=void 0):2!==c||e.getContext||(i=n,n=e,e=void 0),new Promise(function(o,s){try{const s=r.create(n,i);o(t(s,e,i))}catch(t){s(t)}})}if(c<2)throw new Error("Too few arguments provided");2===c?(s=n,n=e,e=i=void 0):3===c&&(e.getContext&&void 0===s?(s=i,i=void 0):(s=i,i=n,n=e,e=void 0));try{const o=r.create(n,i);s(null,t(o,e,i))}catch(t){s(t)}}e.create=r.create,e.toCanvas=a.bind(null,i.render),e.toDataURL=a.bind(null,i.renderToDataURL),e.toString=a.bind(null,function(t,e,n){return s.render(t,n)})},1333(t){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6421(t,e,n){const o=n(6886).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,n=o(t),r=145===n?26:2*Math.ceil((n-13)/(2*e-2)),i=[n-7];for(let t=1;t<e-1;t++)i[t]=i[t-1]-r;return i.push(6),i.reverse()},e.getPositions=function(t){const n=[],o=e.getRowColCoords(t),r=o.length;for(let t=0;t<r;t++)for(let e=0;e<r;e++)0===t&&0===e||0===t&&e===r-1||t===r-1&&0===e||n.push([o[t],o[e]]);return n}},1433(t,e,n){const o=n(208),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=o.ALPHANUMERIC,this.data=t}i.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*r.indexOf(this.data[e]);n+=r.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(r.indexOf(this.data[e]),6)},t.exports=i},9899(t){function e(){this.buffer=[],this.length=0}e.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=e},8820(t){function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}e.prototype.set=function(t,e,n,o){const r=t*this.size+e;this.data[r]=n,o&&(this.reservedBit[r]=!0)},e.prototype.get=function(t,e){return this.data[t*this.size+e]},e.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},e.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=e},5822(t,e,n){const o=n(208);function r(t){this.mode=o.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}r.getBitsLength=function(t){return 8*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=r},7518(t,e,n){const o=n(9953),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case o.L:return r[4*(t-1)+0];case o.M:return r[4*(t-1)+1];case o.Q:return r[4*(t-1)+2];case o.H:return r[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case o.L:return i[4*(t-1)+0];case o.M:return i[4*(t-1)+1];case o.Q:return i[4*(t-1)+2];case o.H:return i[4*(t-1)+3];default:return}}},9953(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return n}}},7756(t,e,n){const o=n(6886).getSymbolSize;e.getPositions=function(t){const e=o(t);return[[0,0],[e-7,0],[0,e-7]]}},4565(t,e,n){const o=n(6886),r=o.getBCHDigit(1335);e.getEncodedBits=function(t,e){const n=t.bit<<3|e;let i=n<<10;for(;o.getBCHDigit(i)-r>=0;)i^=1335<<o.getBCHDigit(i)-r;return 21522^(n<<10|i)}},2731(t,e){const n=new Uint8Array(512),o=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)n[e]=t,o[t]=e,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)n[t]=n[t-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return o[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[o[t]+o[e]]}},4861(t,e,n){const o=n(208),r=n(6886);function i(t){this.mode=o.KANJI,this.data=t}i.getBitsLength=function(t){return 13*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=r.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},t.exports=i},1332(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,o=3,r=40,i=10;function s(t,n,o){switch(t){case e.Patterns.PATTERN000:return(n+o)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return o%3==0;case e.Patterns.PATTERN011:return(n+o)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(o/3))%2==0;case e.Patterns.PATTERN101:return n*o%2+n*o%3==0;case e.Patterns.PATTERN110:return(n*o%2+n*o%3)%2==0;case e.Patterns.PATTERN111:return(n*o%3+(n+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let o=0,r=0,i=0,s=null,a=null;for(let c=0;c<e;c++){r=i=0,s=a=null;for(let h=0;h<e;h++){let e=t.get(c,h);e===s?r++:(r>=5&&(o+=n+(r-5)),s=e,r=1),e=t.get(h,c),e===a?i++:(i>=5&&(o+=n+(i-5)),a=e,i=1)}r>=5&&(o+=n+(r-5)),i>=5&&(o+=n+(i-5))}return o},e.getPenaltyN2=function(t){const e=t.size;let n=0;for(let o=0;o<e-1;o++)for(let r=0;r<e-1;r++){const e=t.get(o,r)+t.get(o,r+1)+t.get(o+1,r)+t.get(o+1,r+1);4!==e&&0!==e||n++}return n*o},e.getPenaltyN3=function(t){const e=t.size;let n=0,o=0,i=0;for(let r=0;r<e;r++){o=i=0;for(let s=0;s<e;s++)o=o<<1&2047|t.get(r,s),s>=10&&(1488===o||93===o)&&n++,i=i<<1&2047|t.get(s,r),s>=10&&(1488===i||93===i)&&n++}return n*r},e.getPenaltyN4=function(t){let e=0;const n=t.data.length;for(let o=0;o<n;o++)e+=t.data[o];return Math.abs(Math.ceil(100*e/n/5)-10)*i},e.applyMask=function(t,e){const n=e.size;for(let o=0;o<n;o++)for(let r=0;r<n;r++)e.isReserved(r,o)||e.xor(r,o,s(t,r,o))},e.getBestMask=function(t,n){const o=Object.keys(e.Patterns).length;let r=0,i=1/0;for(let s=0;s<o;s++){n(s),e.applyMask(s,t);const o=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),o<i&&(i=o,r=s)}return r}},208(t,e,n){const o=n(1878),r=n(7044);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!o.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return n}}},4357(t,e,n){const o=n(208);function r(t){this.mode=o.NUMERIC,this.data=t.toString()}r.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e,n,o;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),o=parseInt(n,10),t.put(o,10);const r=this.data.length-e;r>0&&(n=this.data.substr(e),o=parseInt(n,10),t.put(o,3*r+1))},t.exports=r},4713(t,e,n){const o=n(2731);e.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]^=o.mul(t[r],e[i]);return n},e.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){const t=n[0];for(let r=0;r<e.length;r++)n[r]^=o.mul(e[r],t);let r=0;for(;r<n.length&&0===n[r];)r++;n=n.slice(r)}return n},e.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let r=0;r<t;r++)n=e.mul(n,new Uint8Array([1,o.exp(r)]));return n}},157(t,e,n){const o=n(6886),r=n(9953),i=n(9899),s=n(8820),a=n(6421),c=n(7756),h=n(1332),l=n(7518),u=n(4764),d=n(1427),p=n(4565),f=n(208),_=n(9801);function y(t,e,n){const o=t.size,r=p.getEncodedBits(e,n);let i,s;for(i=0;i<15;i++)s=1==(r>>i&1),i<6?t.set(i,8,s,!0):i<8?t.set(i+1,8,s,!0):t.set(o-15+i,8,s,!0),i<8?t.set(8,o-i-1,s,!0):i<9?t.set(8,15-i-1+1,s,!0):t.set(8,15-i-1,s,!0);t.set(o-8,8,1,!0)}function g(t,e,n){const r=new i;n.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),f.getCharCountIndicator(e.mode,t)),e.write(r)});const s=8*(o.getSymbolTotalCodewords(t)-l.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let t=0;t<a;t++)r.put(t%2?17:236,8);return function(t,e,n){const r=o.getSymbolTotalCodewords(e),i=l.getTotalCodewordsCount(e,n),s=r-i,a=l.getBlocksCount(e,n),c=r%a,h=a-c,d=Math.floor(r/a),p=Math.floor(s/a),f=p+1,_=d-p,y=new u(_);let g=0;const m=new Array(a),E=new Array(a);let C=0;const b=new Uint8Array(t.buffer);for(let t=0;t<a;t++){const e=t<h?p:f;m[t]=b.slice(g,g+e),E[t]=y.encode(m[t]),g+=e,C=Math.max(C,e)}const T=new Uint8Array(r);let v,w,A=0;for(v=0;v<C;v++)for(w=0;w<a;w++)v<m[w].length&&(T[A++]=m[w][v]);for(v=0;v<_;v++)for(w=0;w<a;w++)T[A++]=E[w][v];return T}(r,t,e)}function m(t,e,n,r){let i;if(Array.isArray(t))i=_.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let o=e;if(!o){const e=_.rawSplit(t);o=d.getBestVersionForData(e,n)}i=_.fromString(t,o||40)}}const l=d.getBestVersionForData(i,n);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<l)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+l+".\n")}else e=l;const u=g(e,n,i),p=o.getSymbolSize(e),f=new s(p);return function(t,e){const n=t.size,o=c.getPositions(e);for(let e=0;e<o.length;e++){const r=o[e][0],i=o[e][1];for(let e=-1;e<=7;e++)if(!(r+e<=-1||n<=r+e))for(let o=-1;o<=7;o++)i+o<=-1||n<=i+o||(e>=0&&e<=6&&(0===o||6===o)||o>=0&&o<=6&&(0===e||6===e)||e>=2&&e<=4&&o>=2&&o<=4?t.set(r+e,i+o,!0,!0):t.set(r+e,i+o,!1,!0))}}(f,e),function(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(f),function(t,e){const n=a.getPositions(e);for(let e=0;e<n.length;e++){const o=n[e][0],r=n[e][1];for(let e=-2;e<=2;e++)for(let n=-2;n<=2;n++)-2===e||2===e||-2===n||2===n||0===e&&0===n?t.set(o+e,r+n,!0,!0):t.set(o+e,r+n,!1,!0)}}(f,e),y(f,n,0),e>=7&&function(t,e){const n=t.size,o=d.getEncodedBits(e);let r,i,s;for(let e=0;e<18;e++)r=Math.floor(e/3),i=e%3+n-8-3,s=1==(o>>e&1),t.set(r,i,s,!0),t.set(i,r,s,!0)}(f,e),function(t,e){const n=t.size;let o=-1,r=n-1,i=7,s=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!t.isReserved(r,a-n)){let o=!1;s<e.length&&(o=1==(e[s]>>>i&1)),t.set(r,a-n,o),i--,-1===i&&(s++,i=7)}if(r+=o,r<0||n<=r){r-=o,o=-o;break}}}(f,u),isNaN(r)&&(r=h.getBestMask(f,y.bind(null,f,n))),h.applyMask(r,f),y(f,n,r),{modules:f,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n,i,s=r.M;return void 0!==e&&(s=r.from(e.errorCorrectionLevel,r.M),n=d.from(e.version),i=h.from(e.maskPattern),e.toSJISFunc&&o.setToSJISFunction(e.toSJISFunc)),m(t,n,s,i)}},4764(t,e,n){const o=n(4713);function r(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(t){this.degree=t,this.genPoly=o.generateECPolynomial(this.degree)},r.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=o.mod(e,this.genPoly),r=this.degree-n.length;if(r>0){const t=new Uint8Array(this.degree);return t.set(n,r),t}return n},t.exports=r},7044(t,e){const n="[0-9]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+")(?:.|[\r\n]))+";e.KANJI=new RegExp(o,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp(n,"g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+o+"$"),s=new RegExp("^"+n+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return i.test(t)},e.testNumeric=function(t){return s.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},9801(t,e,n){const o=n(208),r=n(4357),i=n(1433),s=n(5822),a=n(4861),c=n(7044),h=n(6886),l=n(6320);function u(t){return unescape(encodeURIComponent(t)).length}function d(t,e,n){const o=[];let r;for(;null!==(r=t.exec(n));)o.push({data:r[0],index:r.index,mode:e,length:r[0].length});return o}function p(t){const e=d(c.NUMERIC,o.NUMERIC,t),n=d(c.ALPHANUMERIC,o.ALPHANUMERIC,t);let r,i;h.isKanjiModeEnabled()?(r=d(c.BYTE,o.BYTE,t),i=d(c.KANJI,o.KANJI,t)):(r=d(c.BYTE_KANJI,o.BYTE,t),i=[]);return e.concat(n,r,i).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function f(t,e){switch(e){case o.NUMERIC:return r.getBitsLength(t);case o.ALPHANUMERIC:return i.getBitsLength(t);case o.KANJI:return a.getBitsLength(t);case o.BYTE:return s.getBitsLength(t)}}function _(t,e){let n;const c=o.getBestModeForData(t);if(n=o.from(e,c),n!==o.BYTE&&n.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+o.toString(n)+".\n Suggested mode is: "+o.toString(c));switch(n!==o.KANJI||h.isKanjiModeEnabled()||(n=o.BYTE),n){case o.NUMERIC:return new r(t);case o.ALPHANUMERIC:return new i(t);case o.KANJI:return new a(t);case o.BYTE:return new s(t)}}e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(_(e,null)):e.data&&t.push(_(e.data,e.mode)),t},[])},e.fromString=function(t,n){const r=function(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];switch(r.mode){case o.NUMERIC:e.push([r,{data:r.data,mode:o.ALPHANUMERIC,length:r.length},{data:r.data,mode:o.BYTE,length:r.length}]);break;case o.ALPHANUMERIC:e.push([r,{data:r.data,mode:o.BYTE,length:r.length}]);break;case o.KANJI:e.push([r,{data:r.data,mode:o.BYTE,length:u(r.data)}]);break;case o.BYTE:e.push([{data:r.data,mode:o.BYTE,length:u(r.data)}])}}return e}(p(t,h.isKanjiModeEnabled())),i=function(t,e){const n={},r={start:{}};let i=["start"];for(let s=0;s<t.length;s++){const a=t[s],c=[];for(let t=0;t<a.length;t++){const h=a[t],l=""+s+t;c.push(l),n[l]={node:h,lastCount:0},r[l]={};for(let t=0;t<i.length;t++){const s=i[t];n[s]&&n[s].node.mode===h.mode?(r[s][l]=f(n[s].lastCount+h.length,h.mode)-f(n[s].lastCount,h.mode),n[s].lastCount+=h.length):(n[s]&&(n[s].lastCount=h.length),r[s][l]=f(h.length,h.mode)+4+o.getCharCountIndicator(h.mode,e))}}i=c}for(let t=0;t<i.length;t++)r[i[t]].end=0;return{map:r,table:n}}(r,n),s=l.find_path(i.map,"start","end"),a=[];for(let t=1;t<s.length-1;t++)a.push(i.table[s[t]].node);return e.fromArray(function(t){return t.reduce(function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}(a))},e.rawSplit=function(t){return e.fromArray(p(t,h.isKanjiModeEnabled()))}},6886(t,e){let n;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return o[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},1878(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},1427(t,e,n){const o=n(6886),r=n(7518),i=n(9953),s=n(208),a=n(1878),c=o.getBCHDigit(7973);function h(t,e){return s.getCharCountIndicator(t,e)+4}function l(t,e){let n=0;return t.forEach(function(t){const o=h(t.mode,e);n+=o+t.getBitsLength()}),n}e.from=function(t,e){return a.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!a.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=s.BYTE);const i=8*(o.getSymbolTotalCodewords(t)-r.getTotalCodewordsCount(t,e));if(n===s.MIXED)return i;const c=i-h(n,t);switch(n){case s.NUMERIC:return Math.floor(c/10*3);case s.ALPHANUMERIC:return Math.floor(c/11*2);case s.KANJI:return Math.floor(c/13);case s.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,n){let o;const r=i.from(n,i.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let o=1;o<=40;o++)if(l(t,o)<=e.getCapacity(o,n,s.MIXED))return o}(t,r);if(0===t.length)return 1;o=t[0]}else o=t;return function(t,n,o){for(let r=1;r<=40;r++)if(n<=e.getCapacity(r,o,t))return r}(o.mode,o.getLength(),r)},e.getEncodedBits=function(t){if(!a.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;o.getBCHDigit(e)-c>=0;)e^=7973<<o.getBCHDigit(e)-c;return t<<12|e}},7899(t,e,n){const o=n(2726);e.render=function(t,e,n){let r=n,i=e;void 0!==r||e&&e.getContext||(r=e,e=void 0),e||(i=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),r=o.getOptions(r);const s=o.getImageWidth(t.modules.size,r),a=i.getContext("2d"),c=a.createImageData(s,s);return o.qrToImageData(c.data,t,r),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(a,i,s),a.putImageData(c,0,0),i},e.renderToDataURL=function(t,n,o){let r=o;void 0!==r||n&&n.getContext||(r=n,n=void 0),r||(r={});const i=e.render(t,n,r),s=r.type||"image/png",a=r.rendererOpts||{};return i.toDataURL(s,a.quality)}},6756(t,e,n){const o=n(2726);function r(t,e){const n=t.a/255,o=e+'="'+t.hex+'"';return n<1?o+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function i(t,e,n){let o=t+e;return void 0!==n&&(o+=" "+n),o}e.render=function(t,e,n){const s=o.getOptions(e),a=t.modules.size,c=t.modules.data,h=a+2*s.margin,l=s.color.light.a?"<path "+r(s.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",u="<path "+r(s.color.dark,"stroke")+' d="'+function(t,e,n){let o="",r=0,s=!1,a=0;for(let c=0;c<t.length;c++){const h=Math.floor(c%e),l=Math.floor(c/e);h||s||(s=!0),t[c]?(a++,c>0&&h>0&&t[c-1]||(o+=s?i("M",h+n,.5+l+n):i("m",r,0),r=0,s=!1),h+1<e&&t[c+1]||(o+=i("h",a),a=0)):r++}return o}(c,a,s.margin)+'"/>',d='viewBox="0 0 '+h+" "+h+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+u+"</svg>\n";return"function"==typeof n&&n(null,p),p}},2726(t,e){function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,o=t.width&&t.width>=21?t.width:void 0,r=t.scale||4;return{width:o,scale:o?4:r,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){const o=e.getScale(t,n);return Math.floor((t+2*n.margin)*o)},e.qrToImageData=function(t,n,o){const r=n.modules.size,i=n.modules.data,s=e.getScale(r,o),a=Math.floor((r+2*o.margin)*s),c=o.margin*s,h=[o.color.light,o.color.dark];for(let e=0;e<a;e++)for(let n=0;n<a;n++){let l=4*(e*a+n),u=o.color.light;if(e>=c&&n>=c&&e<a-c&&n<a-c){u=h[i[Math.floor((e-c)/s)*r+Math.floor((n-c)/s)]?1:0]}t[l++]=u.r,t[l++]=u.g,t[l++]=u.b,t[l]=u.a}}},6e3(){
/**
 * @preserve
 * Sharer.js
 *
 * @description Create your own social share buttons
 * @version 0.5.1
 * @author Ellison Leao <ellisonleao@gmail.com>
 * @license MIT
 *
 */
!function(t,e){"use strict";var n=function(t){this.elem=t};n.init=function(){var t,o=e.querySelectorAll("[data-sharer]"),r=o.length;for(t=0;t<r;t++)o[t].addEventListener("click",n.add)},n.add=function(t){var e=t.currentTarget||t.srcElement;new n(e).share()},n.prototype={constructor:n,getValue:function(t){var e=this.elem.getAttribute("data-"+t);return e&&"hashtag"===t&&(e.startsWith("#")||(e="#"+e)),null===e?"":e},share:function(){var t=this.getValue("sharer").toLowerCase(),e={facebook:{shareUrl:"https://www.facebook.com/sharer/sharer.php",params:{u:this.getValue("url"),hashtag:this.getValue("hashtag"),quote:this.getValue("quote")}},linkedin:{shareUrl:"https://www.linkedin.com/shareArticle",params:{url:this.getValue("url"),mini:!0}},twitter:{shareUrl:"https://twitter.com/intent/tweet",params:{text:this.getValue("title"),url:this.getValue("url"),hashtags:this.getValue("hashtags"),via:this.getValue("via"),related:this.getValue("related"),in_reply_to:this.getValue("in_reply_to")}},x:{shareUrl:"https://x.com/intent/tweet",params:{text:this.getValue("title"),url:this.getValue("url"),hashtags:this.getValue("hashtags"),via:this.getValue("via"),related:this.getValue("related"),in_reply_to:this.getValue("in_reply_to")}},threads:{shareUrl:"https://threads.net/intent/post",params:{text:this.getValue("title")+" "+this.getValue("url")}},bluesky:{shareUrl:"https://bsky.app/intent/compose",params:{text:this.getValue("title")+" "+this.getValue("url")}},email:{shareUrl:"mailto:"+this.getValue("to"),params:{subject:this.getValue("subject"),body:this.getValue("title")+"\n"+this.getValue("url")}},whatsapp:{shareUrl:"true"===this.getValue("web")?"https://web.whatsapp.com/send":"https://wa.me/",params:{phone:this.getValue("to"),text:this.getValue("title")+" "+this.getValue("url")}},telegram:{shareUrl:"https://t.me/share",params:{text:this.getValue("title"),url:this.getValue("url")}},viber:{shareUrl:"viber://forward",params:{text:this.getValue("title")+" "+this.getValue("url")}},line:{shareUrl:"http://line.me/R/msg/text/?"+encodeURIComponent(this.getValue("title")+" "+this.getValue("url"))},pinterest:{shareUrl:"https://www.pinterest.com/pin/create/button/",params:{url:this.getValue("url"),media:this.getValue("image"),description:this.getValue("description")}},tumblr:{shareUrl:"http://tumblr.com/widgets/share/tool",params:{canonicalUrl:this.getValue("url"),content:this.getValue("url"),posttype:"link",title:this.getValue("title"),caption:this.getValue("caption"),tags:this.getValue("tags")}},hackernews:{shareUrl:"https://news.ycombinator.com/submitlink",params:{u:this.getValue("url"),t:this.getValue("title")}},reddit:{shareUrl:"https://www.reddit.com/submit",params:{url:this.getValue("url"),title:this.getValue("title")}},vk:{shareUrl:"http://vk.com/share.php",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("caption"),image:this.getValue("image")}},xing:{shareUrl:"https://www.xing.com/social/share/spi",params:{url:this.getValue("url")}},buffer:{shareUrl:"https://buffer.com/add",params:{url:this.getValue("url"),title:this.getValue("title"),via:this.getValue("via"),picture:this.getValue("picture")}},instapaper:{shareUrl:"http://www.instapaper.com/edit",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("description")}},pocket:{shareUrl:"https://getpocket.com/save",params:{url:this.getValue("url")}},mashable:{shareUrl:"https://mashable.com/submit",params:{url:this.getValue("url"),title:this.getValue("title")}},mix:{shareUrl:"https://mix.com/add",params:{url:this.getValue("url")}},flipboard:{shareUrl:"https://share.flipboard.com/bookmarklet/popout",params:{v:2,title:this.getValue("title"),url:this.getValue("url"),t:Date.now()}},weibo:{shareUrl:"http://service.weibo.com/share/share.php",params:{url:this.getValue("url"),title:this.getValue("title"),pic:this.getValue("image"),appkey:this.getValue("appkey"),ralateUid:this.getValue("ralateuid"),language:"zh_cn"}},blogger:{shareUrl:"https://www.blogger.com/blog-this.g",params:{u:this.getValue("url"),n:this.getValue("title"),t:this.getValue("description")}},baidu:{shareUrl:"http://cang.baidu.com/do/add",params:{it:this.getValue("title"),iu:this.getValue("url")}},douban:{shareUrl:"https://www.douban.com/share/service",params:{name:this.getValue("name"),href:this.getValue("url"),image:this.getValue("image"),comment:this.getValue("description")}},okru:{shareUrl:"https://connect.ok.ru/dk",params:{"st.cmd":"WidgetSharePreview","st.shareUrl":this.getValue("url"),title:this.getValue("title")}},mailru:{shareUrl:"http://connect.mail.ru/share",params:{share_url:this.getValue("url"),linkname:this.getValue("title"),linknote:this.getValue("description"),type:"page"}},evernote:{shareUrl:"https://www.evernote.com/clip.action",params:{url:this.getValue("url"),title:this.getValue("title")}},skype:{shareUrl:"https://web.skype.com/share",params:{url:this.getValue("url"),title:this.getValue("title")}},delicious:{shareUrl:"https://del.icio.us/post",params:{url:this.getValue("url"),title:this.getValue("title")}},sms:{shareUrl:"sms://",params:{body:this.getValue("body")}},trello:{shareUrl:"https://trello.com/add-card",params:{url:this.getValue("url"),name:this.getValue("title"),desc:this.getValue("description"),mode:"popup"}},messenger:{shareUrl:"fb-messenger://share",params:{link:this.getValue("url")}},odnoklassniki:{shareUrl:"https://connect.ok.ru/dk",params:{"st.cmd":"WidgetSharePreview","st.deprecated":1,"st.shareUrl":this.getValue("url")}},meneame:{shareUrl:"https://www.meneame.net/submit",params:{url:this.getValue("url")}},diaspora:{shareUrl:"https://share.diasporafoundation.org",params:{title:this.getValue("title"),url:this.getValue("url")}},googlebookmarks:{shareUrl:"https://www.google.com/bookmarks/mark",params:{op:"edit",bkmk:this.getValue("url"),title:this.getValue("title")}},qzone:{shareUrl:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",params:{url:this.getValue("url")}},refind:{shareUrl:"https://refind.com",params:{url:this.getValue("url")}},surfingbird:{shareUrl:"https://surfingbird.ru/share",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("description")}},yahoomail:{shareUrl:"http://compose.mail.yahoo.com",params:{to:this.getValue("to"),subject:this.getValue("subject"),body:this.getValue("body")}},wordpress:{shareUrl:"https://wordpress.com/wp-admin/press-this.php",params:{u:this.getValue("url"),t:this.getValue("title"),s:this.getValue("title")}},amazon:{shareUrl:"https://www.amazon.com/gp/wishlist/static-add",params:{u:this.getValue("url"),t:this.getValue("title")}},pinboard:{shareUrl:"https://pinboard.in/add",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("description")}},threema:{shareUrl:"threema://compose",params:{text:this.getValue("text"),id:this.getValue("id")}},kakaostory:{shareUrl:"https://story.kakao.com/share",params:{url:this.getValue("url")}},yummly:{shareUrl:"http://www.yummly.com/urb/verify",params:{url:this.getValue("url"),title:this.getValue("title"),yumtype:"button"}}}[t];return e&&(e.width=this.getValue("width"),e.height=this.getValue("height")),void 0!==e&&this.urlSharer(e)},urlSharer:function(e){var n,o=e.params||{},r=Object.keys(o),i=r.length>0?"?":"";for(n=0;n<r.length;n++)"?"!==i&&(i+="&"),o[r[n]]&&(i+=r[n]+"="+encodeURIComponent(o[r[n]]));e.shareUrl+=i;var s="true"===this.getValue("link"),a="true"===this.getValue("blank");if(s)a?t.open(e.shareUrl,"_blank"):t.location.href=e.shareUrl;else{var c=e.width||600,h=e.height||480,l=t.innerWidth/2-c/2+t.screenX,u="scrollbars=no, width="+c+", height="+h+", top="+(t.innerHeight/2-h/2+t.screenY)+", left="+l,d=t.open(e.shareUrl,"",u);t.focus&&d.focus()}}},"complete"===e.readyState||"loading"!==e.readyState?n.init():e.addEventListener("DOMContentLoaded",n.init),t.Sharer=n}(window,document)},6386(t){!function(e,n){"use strict";t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())}(this,function(){"use strict";var t={};function e(t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!=typeof t)throw new TypeError("expected string");var e,n=unescape(encodeURIComponent(t)),o=new Uint8Array(n.length);for(e=0;e<n.length;e++)o[e]=n.charCodeAt(e);return o},t.encodeUTF8=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(n.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(t.encodeBase64=function(t){return Buffer.from(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(Buffer.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new Buffer(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(new Buffer(t,"base64"),0))}):(t.encodeBase64=function(t){var e,n=[],o=t.length;for(e=0;e<o;e++)n.push(String.fromCharCode(t[e]));return btoa(n.join(""))},t.decodeBase64=function(t){e(t);var n,o=atob(t),r=new Uint8Array(o.length);for(n=0;n<o.length;n++)r[n]=o.charCodeAt(n);return r}),t})},8947(t,e,n){!function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},o=function(){throw new Error("no PRNG")},r=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),c=e([56129,1]),h=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(t,e,n,o){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=o>>24&255,t[e+5]=o>>16&255,t[e+6]=o>>8&255,t[e+7]=255&o}function _(t,e,n,o,r){var i,s=0;for(i=0;i<r;i++)s|=t[e+i]^n[o+i];return(1&s-1>>>8)-1}function y(t,e,n,o){return _(t,e,n,o,16)}function g(t,e,n,o){return _(t,e,n,o,32)}function m(t,e,n,o){!function(t,e,n,o){for(var r,i=255&o[0]|(255&o[1])<<8|(255&o[2])<<16|(255&o[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,h=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&o[4]|(255&o[5])<<8|(255&o[6])<<16|(255&o[7])<<24,u=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,f=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=255&o[8]|(255&o[9])<<8|(255&o[10])<<16|(255&o[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,E=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,C=255&o[12]|(255&o[13])<<8|(255&o[14])<<16|(255&o[15])<<24,b=i,T=s,v=a,w=c,A=h,R=l,k=u,S=d,D=p,I=f,O=_,N=y,P=g,U=m,M=E,B=C,L=0;L<20;L+=2)b^=(r=(P^=(r=(D^=(r=(A^=(r=b+P|0)<<7|r>>>25)+b|0)<<9|r>>>23)+A|0)<<13|r>>>19)+D|0)<<18|r>>>14,R^=(r=(T^=(r=(U^=(r=(I^=(r=R+T|0)<<7|r>>>25)+R|0)<<9|r>>>23)+I|0)<<13|r>>>19)+U|0)<<18|r>>>14,O^=(r=(k^=(r=(v^=(r=(M^=(r=O+k|0)<<7|r>>>25)+O|0)<<9|r>>>23)+M|0)<<13|r>>>19)+v|0)<<18|r>>>14,B^=(r=(N^=(r=(S^=(r=(w^=(r=B+N|0)<<7|r>>>25)+B|0)<<9|r>>>23)+w|0)<<13|r>>>19)+S|0)<<18|r>>>14,b^=(r=(w^=(r=(v^=(r=(T^=(r=b+w|0)<<7|r>>>25)+b|0)<<9|r>>>23)+T|0)<<13|r>>>19)+v|0)<<18|r>>>14,R^=(r=(A^=(r=(S^=(r=(k^=(r=R+A|0)<<7|r>>>25)+R|0)<<9|r>>>23)+k|0)<<13|r>>>19)+S|0)<<18|r>>>14,O^=(r=(I^=(r=(D^=(r=(N^=(r=O+I|0)<<7|r>>>25)+O|0)<<9|r>>>23)+N|0)<<13|r>>>19)+D|0)<<18|r>>>14,B^=(r=(M^=(r=(U^=(r=(P^=(r=B+M|0)<<7|r>>>25)+B|0)<<9|r>>>23)+P|0)<<13|r>>>19)+U|0)<<18|r>>>14;b=b+i|0,T=T+s|0,v=v+a|0,w=w+c|0,A=A+h|0,R=R+l|0,k=k+u|0,S=S+d|0,D=D+p|0,I=I+f|0,O=O+_|0,N=N+y|0,P=P+g|0,U=U+m|0,M=M+E|0,B=B+C|0,t[0]=b>>>0&255,t[1]=b>>>8&255,t[2]=b>>>16&255,t[3]=b>>>24&255,t[4]=T>>>0&255,t[5]=T>>>8&255,t[6]=T>>>16&255,t[7]=T>>>24&255,t[8]=v>>>0&255,t[9]=v>>>8&255,t[10]=v>>>16&255,t[11]=v>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=A>>>0&255,t[17]=A>>>8&255,t[18]=A>>>16&255,t[19]=A>>>24&255,t[20]=R>>>0&255,t[21]=R>>>8&255,t[22]=R>>>16&255,t[23]=R>>>24&255,t[24]=k>>>0&255,t[25]=k>>>8&255,t[26]=k>>>16&255,t[27]=k>>>24&255,t[28]=S>>>0&255,t[29]=S>>>8&255,t[30]=S>>>16&255,t[31]=S>>>24&255,t[32]=D>>>0&255,t[33]=D>>>8&255,t[34]=D>>>16&255,t[35]=D>>>24&255,t[36]=I>>>0&255,t[37]=I>>>8&255,t[38]=I>>>16&255,t[39]=I>>>24&255,t[40]=O>>>0&255,t[41]=O>>>8&255,t[42]=O>>>16&255,t[43]=O>>>24&255,t[44]=N>>>0&255,t[45]=N>>>8&255,t[46]=N>>>16&255,t[47]=N>>>24&255,t[48]=P>>>0&255,t[49]=P>>>8&255,t[50]=P>>>16&255,t[51]=P>>>24&255,t[52]=U>>>0&255,t[53]=U>>>8&255,t[54]=U>>>16&255,t[55]=U>>>24&255,t[56]=M>>>0&255,t[57]=M>>>8&255,t[58]=M>>>16&255,t[59]=M>>>24&255,t[60]=B>>>0&255,t[61]=B>>>8&255,t[62]=B>>>16&255,t[63]=B>>>24&255}(t,e,n,o)}function E(t,e,n,o){!function(t,e,n,o){for(var r,i=255&o[0]|(255&o[1])<<8|(255&o[2])<<16|(255&o[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,h=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&o[4]|(255&o[5])<<8|(255&o[6])<<16|(255&o[7])<<24,u=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,f=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=255&o[8]|(255&o[9])<<8|(255&o[10])<<16|(255&o[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,E=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,C=255&o[12]|(255&o[13])<<8|(255&o[14])<<16|(255&o[15])<<24,b=0;b<20;b+=2)i^=(r=(g^=(r=(p^=(r=(h^=(r=i+g|0)<<7|r>>>25)+i|0)<<9|r>>>23)+h|0)<<13|r>>>19)+p|0)<<18|r>>>14,l^=(r=(s^=(r=(m^=(r=(f^=(r=l+s|0)<<7|r>>>25)+l|0)<<9|r>>>23)+f|0)<<13|r>>>19)+m|0)<<18|r>>>14,_^=(r=(u^=(r=(a^=(r=(E^=(r=_+u|0)<<7|r>>>25)+_|0)<<9|r>>>23)+E|0)<<13|r>>>19)+a|0)<<18|r>>>14,C^=(r=(y^=(r=(d^=(r=(c^=(r=C+y|0)<<7|r>>>25)+C|0)<<9|r>>>23)+c|0)<<13|r>>>19)+d|0)<<18|r>>>14,i^=(r=(c^=(r=(a^=(r=(s^=(r=i+c|0)<<7|r>>>25)+i|0)<<9|r>>>23)+s|0)<<13|r>>>19)+a|0)<<18|r>>>14,l^=(r=(h^=(r=(d^=(r=(u^=(r=l+h|0)<<7|r>>>25)+l|0)<<9|r>>>23)+u|0)<<13|r>>>19)+d|0)<<18|r>>>14,_^=(r=(f^=(r=(p^=(r=(y^=(r=_+f|0)<<7|r>>>25)+_|0)<<9|r>>>23)+y|0)<<13|r>>>19)+p|0)<<18|r>>>14,C^=(r=(E^=(r=(m^=(r=(g^=(r=C+E|0)<<7|r>>>25)+C|0)<<9|r>>>23)+g|0)<<13|r>>>19)+m|0)<<18|r>>>14;t[0]=i>>>0&255,t[1]=i>>>8&255,t[2]=i>>>16&255,t[3]=i>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=_>>>0&255,t[9]=_>>>8&255,t[10]=_>>>16&255,t[11]=_>>>24&255,t[12]=C>>>0&255,t[13]=C>>>8&255,t[14]=C>>>16&255,t[15]=C>>>24&255,t[16]=u>>>0&255,t[17]=u>>>8&255,t[18]=u>>>16&255,t[19]=u>>>24&255,t[20]=d>>>0&255,t[21]=d>>>8&255,t[22]=d>>>16&255,t[23]=d>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=f>>>0&255,t[29]=f>>>8&255,t[30]=f>>>16&255,t[31]=f>>>24&255}(t,e,n,o)}var C=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(t,e,n,o,r,i,s){var a,c,h=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)h[c]=0;for(c=0;c<8;c++)h[c]=i[c];for(;r>=64;){for(m(l,h,s,C),c=0;c<64;c++)t[e+c]=n[o+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&h[c])|0,h[c]=255&a,a>>>=8;r-=64,e+=64,o+=64}if(r>0)for(m(l,h,s,C),c=0;c<r;c++)t[e+c]=n[o+c]^l[c];return 0}function T(t,e,n,o,r){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=o[s];for(;n>=64;){for(m(c,a,r,C),s=0;s<64;s++)t[e+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;n-=64,e+=64}if(n>0)for(m(c,a,r,C),s=0;s<n;s++)t[e+s]=c[s];return 0}function v(t,e,n,o,r){var i=new Uint8Array(32);E(i,o,r,C);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=o[a+16];return T(t,e,n,s,i)}function w(t,e,n,o,r,i,s){var a=new Uint8Array(32);E(a,i,s,C);for(var c=new Uint8Array(8),h=0;h<8;h++)c[h]=i[h+16];return b(t,e,n,o,r,c,a)}var A=function(t){var e,n,o,r,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),o=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|o<<6),r=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(o>>>7|r<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(r>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function R(t,e,n,o,r,i){var s=new A(i);return s.update(n,o,r),s.finish(t,e),0}function k(t,e,n,o,r,i){var s=new Uint8Array(16);return R(s,0,n,o,r,i),y(t,e,s,0)}function S(t,e,n,o,r){var i;if(n<32)return-1;for(w(t,0,e,0,n,o,r),R(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0;return 0}function D(t,e,n,o,r){var i,s=new Uint8Array(32);if(n<32)return-1;if(v(s,0,32,o,r),0!==k(e,16,e,32,n-32,s))return-1;for(w(t,0,e,0,n,o,r),i=0;i<32;i++)t[i]=0;return 0}function I(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function O(t){var e,n,o=1;for(e=0;e<16;e++)n=t[e]+o+65535,o=Math.floor(n/65536),t[e]=n-65536*o;t[0]+=o-1+37*(o-1)}function N(t,e,n){for(var o,r=~(n-1),i=0;i<16;i++)o=r&(t[i]^e[i]),t[i]^=o,e[i]^=o}function P(t,n){var o,r,i,s=e(),a=e();for(o=0;o<16;o++)a[o]=n[o];for(O(a),O(a),O(a),r=0;r<2;r++){for(s[0]=a[0]-65517,o=1;o<15;o++)s[o]=a[o]-65535-(s[o-1]>>16&1),s[o-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,N(a,s,1-i)}for(o=0;o<16;o++)t[2*o]=255&a[o],t[2*o+1]=a[o]>>8}function U(t,e){var n=new Uint8Array(32),o=new Uint8Array(32);return P(n,t),P(o,e),g(n,0,o,0)}function M(t){var e=new Uint8Array(32);return P(e,t),1&e[0]}function B(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function L(t,e,n){for(var o=0;o<16;o++)t[o]=e[o]+n[o]}function x(t,e,n){for(var o=0;o<16;o++)t[o]=e[o]-n[o]}function F(t,e,n){var o,r,i=0,s=0,a=0,c=0,h=0,l=0,u=0,d=0,p=0,f=0,_=0,y=0,g=0,m=0,E=0,C=0,b=0,T=0,v=0,w=0,A=0,R=0,k=0,S=0,D=0,I=0,O=0,N=0,P=0,U=0,M=0,B=n[0],L=n[1],x=n[2],F=n[3],V=n[4],Y=n[5],q=n[6],K=n[7],j=n[8],H=n[9],Q=n[10],z=n[11],W=n[12],G=n[13],J=n[14],X=n[15];i+=(o=e[0])*B,s+=o*L,a+=o*x,c+=o*F,h+=o*V,l+=o*Y,u+=o*q,d+=o*K,p+=o*j,f+=o*H,_+=o*Q,y+=o*z,g+=o*W,m+=o*G,E+=o*J,C+=o*X,s+=(o=e[1])*B,a+=o*L,c+=o*x,h+=o*F,l+=o*V,u+=o*Y,d+=o*q,p+=o*K,f+=o*j,_+=o*H,y+=o*Q,g+=o*z,m+=o*W,E+=o*G,C+=o*J,b+=o*X,a+=(o=e[2])*B,c+=o*L,h+=o*x,l+=o*F,u+=o*V,d+=o*Y,p+=o*q,f+=o*K,_+=o*j,y+=o*H,g+=o*Q,m+=o*z,E+=o*W,C+=o*G,b+=o*J,T+=o*X,c+=(o=e[3])*B,h+=o*L,l+=o*x,u+=o*F,d+=o*V,p+=o*Y,f+=o*q,_+=o*K,y+=o*j,g+=o*H,m+=o*Q,E+=o*z,C+=o*W,b+=o*G,T+=o*J,v+=o*X,h+=(o=e[4])*B,l+=o*L,u+=o*x,d+=o*F,p+=o*V,f+=o*Y,_+=o*q,y+=o*K,g+=o*j,m+=o*H,E+=o*Q,C+=o*z,b+=o*W,T+=o*G,v+=o*J,w+=o*X,l+=(o=e[5])*B,u+=o*L,d+=o*x,p+=o*F,f+=o*V,_+=o*Y,y+=o*q,g+=o*K,m+=o*j,E+=o*H,C+=o*Q,b+=o*z,T+=o*W,v+=o*G,w+=o*J,A+=o*X,u+=(o=e[6])*B,d+=o*L,p+=o*x,f+=o*F,_+=o*V,y+=o*Y,g+=o*q,m+=o*K,E+=o*j,C+=o*H,b+=o*Q,T+=o*z,v+=o*W,w+=o*G,A+=o*J,R+=o*X,d+=(o=e[7])*B,p+=o*L,f+=o*x,_+=o*F,y+=o*V,g+=o*Y,m+=o*q,E+=o*K,C+=o*j,b+=o*H,T+=o*Q,v+=o*z,w+=o*W,A+=o*G,R+=o*J,k+=o*X,p+=(o=e[8])*B,f+=o*L,_+=o*x,y+=o*F,g+=o*V,m+=o*Y,E+=o*q,C+=o*K,b+=o*j,T+=o*H,v+=o*Q,w+=o*z,A+=o*W,R+=o*G,k+=o*J,S+=o*X,f+=(o=e[9])*B,_+=o*L,y+=o*x,g+=o*F,m+=o*V,E+=o*Y,C+=o*q,b+=o*K,T+=o*j,v+=o*H,w+=o*Q,A+=o*z,R+=o*W,k+=o*G,S+=o*J,D+=o*X,_+=(o=e[10])*B,y+=o*L,g+=o*x,m+=o*F,E+=o*V,C+=o*Y,b+=o*q,T+=o*K,v+=o*j,w+=o*H,A+=o*Q,R+=o*z,k+=o*W,S+=o*G,D+=o*J,I+=o*X,y+=(o=e[11])*B,g+=o*L,m+=o*x,E+=o*F,C+=o*V,b+=o*Y,T+=o*q,v+=o*K,w+=o*j,A+=o*H,R+=o*Q,k+=o*z,S+=o*W,D+=o*G,I+=o*J,O+=o*X,g+=(o=e[12])*B,m+=o*L,E+=o*x,C+=o*F,b+=o*V,T+=o*Y,v+=o*q,w+=o*K,A+=o*j,R+=o*H,k+=o*Q,S+=o*z,D+=o*W,I+=o*G,O+=o*J,N+=o*X,m+=(o=e[13])*B,E+=o*L,C+=o*x,b+=o*F,T+=o*V,v+=o*Y,w+=o*q,A+=o*K,R+=o*j,k+=o*H,S+=o*Q,D+=o*z,I+=o*W,O+=o*G,N+=o*J,P+=o*X,E+=(o=e[14])*B,C+=o*L,b+=o*x,T+=o*F,v+=o*V,w+=o*Y,A+=o*q,R+=o*K,k+=o*j,S+=o*H,D+=o*Q,I+=o*z,O+=o*W,N+=o*G,P+=o*J,U+=o*X,C+=(o=e[15])*B,s+=38*(T+=o*x),a+=38*(v+=o*F),c+=38*(w+=o*V),h+=38*(A+=o*Y),l+=38*(R+=o*q),u+=38*(k+=o*K),d+=38*(S+=o*j),p+=38*(D+=o*H),f+=38*(I+=o*Q),_+=38*(O+=o*z),y+=38*(N+=o*W),g+=38*(P+=o*G),m+=38*(U+=o*J),E+=38*(M+=o*X),i=(o=(i+=38*(b+=o*L))+(r=1)+65535)-65536*(r=Math.floor(o/65536)),s=(o=s+r+65535)-65536*(r=Math.floor(o/65536)),a=(o=a+r+65535)-65536*(r=Math.floor(o/65536)),c=(o=c+r+65535)-65536*(r=Math.floor(o/65536)),h=(o=h+r+65535)-65536*(r=Math.floor(o/65536)),l=(o=l+r+65535)-65536*(r=Math.floor(o/65536)),u=(o=u+r+65535)-65536*(r=Math.floor(o/65536)),d=(o=d+r+65535)-65536*(r=Math.floor(o/65536)),p=(o=p+r+65535)-65536*(r=Math.floor(o/65536)),f=(o=f+r+65535)-65536*(r=Math.floor(o/65536)),_=(o=_+r+65535)-65536*(r=Math.floor(o/65536)),y=(o=y+r+65535)-65536*(r=Math.floor(o/65536)),g=(o=g+r+65535)-65536*(r=Math.floor(o/65536)),m=(o=m+r+65535)-65536*(r=Math.floor(o/65536)),E=(o=E+r+65535)-65536*(r=Math.floor(o/65536)),C=(o=C+r+65535)-65536*(r=Math.floor(o/65536)),i=(o=(i+=r-1+37*(r-1))+(r=1)+65535)-65536*(r=Math.floor(o/65536)),s=(o=s+r+65535)-65536*(r=Math.floor(o/65536)),a=(o=a+r+65535)-65536*(r=Math.floor(o/65536)),c=(o=c+r+65535)-65536*(r=Math.floor(o/65536)),h=(o=h+r+65535)-65536*(r=Math.floor(o/65536)),l=(o=l+r+65535)-65536*(r=Math.floor(o/65536)),u=(o=u+r+65535)-65536*(r=Math.floor(o/65536)),d=(o=d+r+65535)-65536*(r=Math.floor(o/65536)),p=(o=p+r+65535)-65536*(r=Math.floor(o/65536)),f=(o=f+r+65535)-65536*(r=Math.floor(o/65536)),_=(o=_+r+65535)-65536*(r=Math.floor(o/65536)),y=(o=y+r+65535)-65536*(r=Math.floor(o/65536)),g=(o=g+r+65535)-65536*(r=Math.floor(o/65536)),m=(o=m+r+65535)-65536*(r=Math.floor(o/65536)),E=(o=E+r+65535)-65536*(r=Math.floor(o/65536)),C=(o=C+r+65535)-65536*(r=Math.floor(o/65536)),i+=r-1+37*(r-1),t[0]=i,t[1]=s,t[2]=a,t[3]=c,t[4]=h,t[5]=l,t[6]=u,t[7]=d,t[8]=p,t[9]=f,t[10]=_,t[11]=y,t[12]=g,t[13]=m,t[14]=E,t[15]=C}function V(t,e){F(t,e,e)}function Y(t,n){var o,r=e();for(o=0;o<16;o++)r[o]=n[o];for(o=253;o>=0;o--)V(r,r),2!==o&&4!==o&&F(r,r,n);for(o=0;o<16;o++)t[o]=r[o]}function q(t,n){var o,r=e();for(o=0;o<16;o++)r[o]=n[o];for(o=250;o>=0;o--)V(r,r),1!==o&&F(r,r,n);for(o=0;o<16;o++)t[o]=r[o]}function K(t,n,o){var r,i,s=new Uint8Array(32),a=new Float64Array(80),h=e(),l=e(),u=e(),d=e(),p=e(),f=e();for(i=0;i<31;i++)s[i]=n[i];for(s[31]=127&n[31]|64,s[0]&=248,B(a,o),i=0;i<16;i++)l[i]=a[i],d[i]=h[i]=u[i]=0;for(h[0]=d[0]=1,i=254;i>=0;--i)N(h,l,r=s[i>>>3]>>>(7&i)&1),N(u,d,r),L(p,h,u),x(h,h,u),L(u,l,d),x(l,l,d),V(d,p),V(f,h),F(h,u,h),F(u,l,p),L(p,h,u),x(h,h,u),V(l,h),x(u,d,f),F(h,u,c),L(h,h,d),F(u,u,h),F(h,d,f),F(d,l,a),V(l,p),N(h,l,r),N(u,d,r);for(i=0;i<16;i++)a[i+16]=h[i],a[i+32]=u[i],a[i+48]=l[i],a[i+64]=d[i];var _=a.subarray(32),y=a.subarray(16);return Y(_,_),F(y,y,_),P(t,y),0}function j(t,e){return K(t,e,i)}function H(t,e){return o(e,32),j(t,e)}function Q(t,e,n){var o=new Uint8Array(32);return K(o,n,e),E(t,r,o,C)}A.prototype.blocks=function(t,e,n){for(var o,r,i,s,a,c,h,l,u,d,p,f,_,y,g,m,E,C,b,T=this.fin?0:2048,v=this.h[0],w=this.h[1],A=this.h[2],R=this.h[3],k=this.h[4],S=this.h[5],D=this.h[6],I=this.h[7],O=this.h[8],N=this.h[9],P=this.r[0],U=this.r[1],M=this.r[2],B=this.r[3],L=this.r[4],x=this.r[5],F=this.r[6],V=this.r[7],Y=this.r[8],q=this.r[9];n>=16;)d=u=0,d+=(v+=8191&(o=255&t[e+0]|(255&t[e+1])<<8))*P,d+=(w+=8191&(o>>>13|(r=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*q),d+=(A+=8191&(r>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*Y),d+=(R+=8191&(i>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*V),u=(d+=(k+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*F))>>>13,d&=8191,d+=(S+=a>>>1&8191)*(5*x),d+=(D+=8191&(a>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*L),d+=(I+=8191&(c>>>11|(h=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*B),d+=(O+=8191&(h>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*M),p=u+=(d+=(N+=l>>>5|T)*(5*U))>>>13,p+=v*U,p+=w*P,p+=A*(5*q),p+=R*(5*Y),u=(p+=k*(5*V))>>>13,p&=8191,p+=S*(5*F),p+=D*(5*x),p+=I*(5*L),p+=O*(5*B),u+=(p+=N*(5*M))>>>13,p&=8191,f=u,f+=v*M,f+=w*U,f+=A*P,f+=R*(5*q),u=(f+=k*(5*Y))>>>13,f&=8191,f+=S*(5*V),f+=D*(5*F),f+=I*(5*x),f+=O*(5*L),_=u+=(f+=N*(5*B))>>>13,_+=v*B,_+=w*M,_+=A*U,_+=R*P,u=(_+=k*(5*q))>>>13,_&=8191,_+=S*(5*Y),_+=D*(5*V),_+=I*(5*F),_+=O*(5*x),y=u+=(_+=N*(5*L))>>>13,y+=v*L,y+=w*B,y+=A*M,y+=R*U,u=(y+=k*P)>>>13,y&=8191,y+=S*(5*q),y+=D*(5*Y),y+=I*(5*V),y+=O*(5*F),g=u+=(y+=N*(5*x))>>>13,g+=v*x,g+=w*L,g+=A*B,g+=R*M,u=(g+=k*U)>>>13,g&=8191,g+=S*P,g+=D*(5*q),g+=I*(5*Y),g+=O*(5*V),m=u+=(g+=N*(5*F))>>>13,m+=v*F,m+=w*x,m+=A*L,m+=R*B,u=(m+=k*M)>>>13,m&=8191,m+=S*U,m+=D*P,m+=I*(5*q),m+=O*(5*Y),E=u+=(m+=N*(5*V))>>>13,E+=v*V,E+=w*F,E+=A*x,E+=R*L,u=(E+=k*B)>>>13,E&=8191,E+=S*M,E+=D*U,E+=I*P,E+=O*(5*q),C=u+=(E+=N*(5*Y))>>>13,C+=v*Y,C+=w*V,C+=A*F,C+=R*x,u=(C+=k*L)>>>13,C&=8191,C+=S*B,C+=D*M,C+=I*U,C+=O*P,b=u+=(C+=N*(5*q))>>>13,b+=v*q,b+=w*Y,b+=A*V,b+=R*F,u=(b+=k*x)>>>13,b&=8191,b+=S*L,b+=D*B,b+=I*M,b+=O*U,v=d=8191&(u=(u=((u+=(b+=N*P)>>>13)<<2)+u|0)+(d&=8191)|0),w=p+=u>>>=13,A=f&=8191,R=_&=8191,k=y&=8191,S=g&=8191,D=m&=8191,I=E&=8191,O=C&=8191,N=b&=8191,e+=16,n-=16;this.h[0]=v,this.h[1]=w,this.h[2]=A,this.h[3]=R,this.h[4]=k,this.h[5]=S,this.h[6]=D,this.h[7]=I,this.h[8]=O,this.h[9]=N},A.prototype.finish=function(t,e){var n,o,r,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+n,n=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,o=(1^n)-1,i=0;i<10;i++)s[i]&=o;for(o=~o,i=0;i<10;i++)this.h[i]=this.h[i]&o|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),r=this.h[0]+this.pad[0],this.h[0]=65535&r,i=1;i<8;i++)r=(this.h[i]+this.pad[i]|0)+(r>>>16)|0,this.h[i]=65535&r;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},A.prototype.update=function(t,e,n){var o,r;if(this.leftover){for((r=16-this.leftover)>n&&(r=n),o=0;o<r;o++)this.buffer[this.leftover+o]=t[e+o];if(n-=r,e+=r,this.leftover+=r,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(r=n-n%16,this.blocks(t,e,r),e+=r,n-=r),n){for(o=0;o<n;o++)this.buffer[this.leftover+o]=t[e+o];this.leftover+=n}};var z=S,W=D;var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(t,e,n,o){for(var r,i,s,a,c,h,l,u,d,p,f,_,y,g,m,E,C,b,T,v,w,A,R,k,S,D,I=new Int32Array(16),O=new Int32Array(16),N=t[0],P=t[1],U=t[2],M=t[3],B=t[4],L=t[5],x=t[6],F=t[7],V=e[0],Y=e[1],q=e[2],K=e[3],j=e[4],H=e[5],Q=e[6],z=e[7],W=0;o>=128;){for(T=0;T<16;T++)v=8*T+W,I[T]=n[v+0]<<24|n[v+1]<<16|n[v+2]<<8|n[v+3],O[T]=n[v+4]<<24|n[v+5]<<16|n[v+6]<<8|n[v+7];for(T=0;T<80;T++)if(r=N,i=P,s=U,a=M,c=B,h=L,l=x,F,d=V,p=Y,f=q,_=K,y=j,g=H,m=Q,z,R=65535&(A=z),k=A>>>16,S=65535&(w=F),D=w>>>16,R+=65535&(A=(j>>>14|B<<18)^(j>>>18|B<<14)^(B>>>9|j<<23)),k+=A>>>16,S+=65535&(w=(B>>>14|j<<18)^(B>>>18|j<<14)^(j>>>9|B<<23)),D+=w>>>16,R+=65535&(A=j&H^~j&Q),k+=A>>>16,S+=65535&(w=B&L^~B&x),D+=w>>>16,R+=65535&(A=G[2*T+1]),k+=A>>>16,S+=65535&(w=G[2*T]),D+=w>>>16,w=I[T%16],k+=(A=O[T%16])>>>16,S+=65535&w,D+=w>>>16,S+=(k+=(R+=65535&A)>>>16)>>>16,R=65535&(A=b=65535&R|k<<16),k=A>>>16,S=65535&(w=C=65535&S|(D+=S>>>16)<<16),D=w>>>16,R+=65535&(A=(V>>>28|N<<4)^(N>>>2|V<<30)^(N>>>7|V<<25)),k+=A>>>16,S+=65535&(w=(N>>>28|V<<4)^(V>>>2|N<<30)^(V>>>7|N<<25)),D+=w>>>16,k+=(A=V&Y^V&q^Y&q)>>>16,S+=65535&(w=N&P^N&U^P&U),D+=w>>>16,u=65535&(S+=(k+=(R+=65535&A)>>>16)>>>16)|(D+=S>>>16)<<16,E=65535&R|k<<16,R=65535&(A=_),k=A>>>16,S=65535&(w=a),D=w>>>16,k+=(A=b)>>>16,S+=65535&(w=C),D+=w>>>16,P=r,U=i,M=s,B=a=65535&(S+=(k+=(R+=65535&A)>>>16)>>>16)|(D+=S>>>16)<<16,L=c,x=h,F=l,N=u,Y=d,q=p,K=f,j=_=65535&R|k<<16,H=y,Q=g,z=m,V=E,T%16==15)for(v=0;v<16;v++)w=I[v],R=65535&(A=O[v]),k=A>>>16,S=65535&w,D=w>>>16,w=I[(v+9)%16],R+=65535&(A=O[(v+9)%16]),k+=A>>>16,S+=65535&w,D+=w>>>16,C=I[(v+1)%16],R+=65535&(A=((b=O[(v+1)%16])>>>1|C<<31)^(b>>>8|C<<24)^(b>>>7|C<<25)),k+=A>>>16,S+=65535&(w=(C>>>1|b<<31)^(C>>>8|b<<24)^C>>>7),D+=w>>>16,C=I[(v+14)%16],k+=(A=((b=O[(v+14)%16])>>>19|C<<13)^(C>>>29|b<<3)^(b>>>6|C<<26))>>>16,S+=65535&(w=(C>>>19|b<<13)^(b>>>29|C<<3)^C>>>6),D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,I[v]=65535&S|D<<16,O[v]=65535&R|k<<16;R=65535&(A=V),k=A>>>16,S=65535&(w=N),D=w>>>16,w=t[0],k+=(A=e[0])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[0]=N=65535&S|D<<16,e[0]=V=65535&R|k<<16,R=65535&(A=Y),k=A>>>16,S=65535&(w=P),D=w>>>16,w=t[1],k+=(A=e[1])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[1]=P=65535&S|D<<16,e[1]=Y=65535&R|k<<16,R=65535&(A=q),k=A>>>16,S=65535&(w=U),D=w>>>16,w=t[2],k+=(A=e[2])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[2]=U=65535&S|D<<16,e[2]=q=65535&R|k<<16,R=65535&(A=K),k=A>>>16,S=65535&(w=M),D=w>>>16,w=t[3],k+=(A=e[3])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[3]=M=65535&S|D<<16,e[3]=K=65535&R|k<<16,R=65535&(A=j),k=A>>>16,S=65535&(w=B),D=w>>>16,w=t[4],k+=(A=e[4])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[4]=B=65535&S|D<<16,e[4]=j=65535&R|k<<16,R=65535&(A=H),k=A>>>16,S=65535&(w=L),D=w>>>16,w=t[5],k+=(A=e[5])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[5]=L=65535&S|D<<16,e[5]=H=65535&R|k<<16,R=65535&(A=Q),k=A>>>16,S=65535&(w=x),D=w>>>16,w=t[6],k+=(A=e[6])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[6]=x=65535&S|D<<16,e[6]=Q=65535&R|k<<16,R=65535&(A=z),k=A>>>16,S=65535&(w=F),D=w>>>16,w=t[7],k+=(A=e[7])>>>16,S+=65535&w,D+=w>>>16,D+=(S+=(k+=(R+=65535&A)>>>16)>>>16)>>>16,t[7]=F=65535&S|D<<16,e[7]=z=65535&R|k<<16,W+=128,o-=128}return o}function X(t,e,n){var o,r=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=n;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,J(r,i,e,n),n%=128,o=0;o<n;o++)s[o]=e[a-n+o];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,f(s,n-8,a/536870912|0,a<<3),J(r,i,s,n),o=0;o<8;o++)f(t,8*o,r[o],i[o]);return 0}function $(t,n){var o=e(),r=e(),i=e(),s=e(),a=e(),c=e(),h=e(),u=e(),d=e();x(o,t[1],t[0]),x(d,n[1],n[0]),F(o,o,d),L(r,t[0],t[1]),L(d,n[0],n[1]),F(r,r,d),F(i,t[3],n[3]),F(i,i,l),F(s,t[2],n[2]),L(s,s,s),x(a,r,o),x(c,s,i),L(h,s,i),L(u,r,o),F(t[0],a,c),F(t[1],u,h),F(t[2],h,c),F(t[3],a,u)}function Z(t,e,n){var o;for(o=0;o<4;o++)N(t[o],e[o],n)}function tt(t,n){var o=e(),r=e(),i=e();Y(i,n[2]),F(o,n[0],i),F(r,n[1],i),P(t,r),t[31]^=M(o)<<7}function et(t,e,n){var o,r;for(I(t[0],s),I(t[1],a),I(t[2],a),I(t[3],s),r=255;r>=0;--r)Z(t,e,o=n[r/8|0]>>(7&r)&1),$(e,t),$(t,t),Z(t,e,o)}function nt(t,n){var o=[e(),e(),e(),e()];I(o[0],u),I(o[1],d),I(o[2],a),F(o[3],u,d),et(t,o,n)}function ot(t,n,r){var i,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(r||o(n,32),X(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,nt(a,s),tt(t,a),i=0;i<32;i++)n[i+32]=t[i];return 0}var rt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function it(t,e){var n,o,r,i;for(o=63;o>=32;--o){for(n=0,r=o-32,i=o-12;r<i;++r)e[r]+=n-16*e[o]*rt[r-(o-32)],n=Math.floor((e[r]+128)/256),e[r]-=256*n;e[r]+=n,e[o]=0}for(n=0,r=0;r<32;r++)e[r]+=n-(e[31]>>4)*rt[r],n=e[r]>>8,e[r]&=255;for(r=0;r<32;r++)e[r]-=n*rt[r];for(o=0;o<32;o++)e[o+1]+=e[o]>>8,t[o]=255&e[o]}function st(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;it(t,n)}function at(t,n,o,r){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),h=new Uint8Array(64),l=new Float64Array(64),u=[e(),e(),e(),e()];X(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64;var d=o+64;for(i=0;i<o;i++)t[64+i]=n[i];for(i=0;i<32;i++)t[32+i]=a[32+i];for(X(h,t.subarray(32),o+32),st(h),nt(u,h),tt(t,u),i=32;i<64;i++)t[i]=r[i];for(X(c,t,o+64),st(c),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=h[i];for(i=0;i<32;i++)for(s=0;s<32;s++)l[i+s]+=c[i]*a[s];return it(t.subarray(32),l),d}function ct(t,n,o,r){var i,c=new Uint8Array(32),l=new Uint8Array(64),u=[e(),e(),e(),e()],d=[e(),e(),e(),e()];if(o<64)return-1;if(function(t,n){var o=e(),r=e(),i=e(),c=e(),l=e(),u=e(),d=e();return I(t[2],a),B(t[1],n),V(i,t[1]),F(c,i,h),x(i,i,t[2]),L(c,t[2],c),V(l,c),V(u,l),F(d,u,l),F(o,d,i),F(o,o,c),q(o,o),F(o,o,i),F(o,o,c),F(o,o,c),F(t[0],o,c),V(r,t[0]),F(r,r,c),U(r,i)&&F(t[0],t[0],p),V(r,t[0]),F(r,r,c),U(r,i)?-1:(M(t[0])===n[31]>>7&&x(t[0],s,t[0]),F(t[3],t[0],t[1]),0)}(d,r))return-1;for(i=0;i<o;i++)t[i]=n[i];for(i=0;i<32;i++)t[i+32]=r[i];if(X(l,t,o),st(l),et(u,d,l),nt(d,n.subarray(32)),$(u,d),tt(c,u),o-=64,g(n,0,c,0)){for(i=0;i<o;i++)t[i]=0;return-1}for(i=0;i<o;i++)t[i]=n[i+64];return o}var ht=16,lt=64,ut=32,dt=64;function pt(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function ft(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function _t(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:E,crypto_stream_xor:w,crypto_stream:v,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:T,crypto_onetimeauth:R,crypto_onetimeauth_verify:k,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:S,crypto_secretbox_open:D,crypto_scalarmult:K,crypto_scalarmult_base:j,crypto_box_beforenm:Q,crypto_box_afternm:z,crypto_box:function(t,e,n,o,r,i){var s=new Uint8Array(32);return Q(s,r,i),z(t,e,n,o,s)},crypto_box_open:function(t,e,n,o,r,i){var s=new Uint8Array(32);return Q(s,r,i),W(t,e,n,o,s)},crypto_box_keypair:H,crypto_hash:X,crypto_sign:at,crypto_sign_keypair:ot,crypto_sign_open:ct,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ht,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:lt,crypto_sign_PUBLICKEYBYTES:ut,crypto_sign_SECRETKEYBYTES:dt,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:h,L:rt,pack25519:P,unpack25519:B,M:F,A:L,S:V,Z:x,pow2523:q,add:$,set25519:I,modL:it,scalarmult:et,scalarbase:nt},t.randomBytes=function(t){var e=new Uint8Array(t);return o(e,t),e},t.secretbox=function(t,e,n){ft(t,e,n),pt(n,e);for(var o=new Uint8Array(32+t.length),r=new Uint8Array(o.length),i=0;i<t.length;i++)o[i+32]=t[i];return S(r,o,o.length,e,n),r.subarray(ht)},t.secretbox.open=function(t,e,n){ft(t,e,n),pt(n,e);for(var o=new Uint8Array(ht+t.length),r=new Uint8Array(o.length),i=0;i<t.length;i++)o[i+ht]=t[i];return o.length<32||0!==D(r,o,o.length,e,n)?null:r.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=ht,t.scalarMult=function(t,e){if(ft(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return K(n,t,e),n},t.scalarMult.base=function(t){if(ft(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return j(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,o,r){var i=t.box.before(o,r);return t.secretbox(e,n,i)},t.box.before=function(t,e){ft(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return Q(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,o,r){var i=t.box.before(o,r);return t.secretbox.open(e,n,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(ft(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return j(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(ft(t,e),e.length!==dt)throw new Error("bad secret key size");var n=new Uint8Array(lt+t.length);return at(n,t,t.length,e),n},t.sign.open=function(t,e){if(ft(t,e),e.length!==ut)throw new Error("bad public key size");var n=new Uint8Array(t.length),o=ct(n,t,t.length,e);if(o<0)return null;for(var r=new Uint8Array(o),i=0;i<r.length;i++)r[i]=n[i];return r},t.sign.detached=function(e,n){for(var o=t.sign(e,n),r=new Uint8Array(lt),i=0;i<r.length;i++)r[i]=o[i];return r},t.sign.detached.verify=function(t,e,n){if(ft(t,e,n),e.length!==lt)throw new Error("bad signature size");if(n.length!==ut)throw new Error("bad public key size");var o,r=new Uint8Array(lt+t.length),i=new Uint8Array(lt+t.length);for(o=0;o<lt;o++)r[o]=e[o];for(o=0;o<t.length;o++)r[o+lt]=t[o];return ct(i,r,r.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(ut),e=new Uint8Array(dt);return ot(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(ft(t),t.length!==dt)throw new Error("bad secret key size");for(var e=new Uint8Array(ut),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(ft(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(ut),n=new Uint8Array(dt),o=0;o<32;o++)n[o]=t[o];return ot(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=ut,t.sign.secretKeyLength=dt,t.sign.seedLength=32,t.sign.signatureLength=lt,t.hash=function(t){ft(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return ft(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===_(t,0,e,0,t.length))},t.setPRNG=function(t){o=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG(function(t,n){var o,r=new Uint8Array(n);for(o=0;o<n;o+=65536)e.getRandomValues(r.subarray(o,o+Math.min(n-o,65536)));for(o=0;o<n;o++)t[o]=r[o];_t(r)})}else(e=n(1281))&&e.randomBytes&&t.setPRNG(function(t,n){var o,r=e.randomBytes(n);for(o=0;o<n;o++)t[o]=r[o];_t(r)})}()}(t.exports?t.exports:self.nacl=self.nacl||{})},3989(){},1281(){},4110(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasCORS=void 0;let n=!1;try{n="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}e.hasCORS=n},8661(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encode=function(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){let e={},n=t.split("&");for(let t=0,o=n.length;t<o;t++){let o=n[t].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},1015(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),i=t.indexOf("]");-1!=r&&-1!=i&&(t=t.substring(0,r)+t.substring(r,i).replace(/:/g,";")+t.substring(i,t.length));let s=n.exec(t||""),a={},c=14;for(;c--;)a[o[c]]=s[c]||"";-1!=r&&-1!=i&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0);return a.pathNames=function(t,e){const n=e.replace(/\/{2,9}/g,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1);"/"==e.slice(-1)&&n.splice(n.length-1,1);return n}(0,a.path),a.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,e,o){e&&(n[e]=o)}),n}(0,a.query),a};const n=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]},4624(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultBinaryType=e.globalThisShim=e.nextTick=void 0,e.createCookieJar=function(){},e.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),e.globalThisShim="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),e.defaultBinaryType="arraybuffer"},4956(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebTransport=e.WebSocket=e.NodeWebSocket=e.XHR=e.NodeXHR=e.Fetch=e.nextTick=e.parse=e.installTimerFunctions=e.transports=e.TransportError=e.Transport=e.protocol=e.SocketWithUpgrade=e.SocketWithoutUpgrade=e.Socket=void 0;const o=n(8223);Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return o.Socket}});var r=n(8223);Object.defineProperty(e,"SocketWithoutUpgrade",{enumerable:!0,get:function(){return r.SocketWithoutUpgrade}}),Object.defineProperty(e,"SocketWithUpgrade",{enumerable:!0,get:function(){return r.SocketWithUpgrade}}),e.protocol=o.Socket.protocol;var i=n(4689);Object.defineProperty(e,"Transport",{enumerable:!0,get:function(){return i.Transport}}),Object.defineProperty(e,"TransportError",{enumerable:!0,get:function(){return i.TransportError}});var s=n(9419);Object.defineProperty(e,"transports",{enumerable:!0,get:function(){return s.transports}});var a=n(5374);Object.defineProperty(e,"installTimerFunctions",{enumerable:!0,get:function(){return a.installTimerFunctions}});var c=n(1015);Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.parse}});var h=n(4624);Object.defineProperty(e,"nextTick",{enumerable:!0,get:function(){return h.nextTick}});var l=n(8209);Object.defineProperty(e,"Fetch",{enumerable:!0,get:function(){return l.Fetch}});var u=n(2071);Object.defineProperty(e,"NodeXHR",{enumerable:!0,get:function(){return u.XHR}});var d=n(2071);Object.defineProperty(e,"XHR",{enumerable:!0,get:function(){return d.XHR}});var p=n(8716);Object.defineProperty(e,"NodeWebSocket",{enumerable:!0,get:function(){return p.WS}});var f=n(8716);Object.defineProperty(e,"WebSocket",{enumerable:!0,get:function(){return f.WS}});var _=n(2099);Object.defineProperty(e,"WebTransport",{enumerable:!0,get:function(){return _.WT}})},8223(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=e.SocketWithUpgrade=e.SocketWithoutUpgrade=void 0;const r=n(9419),i=n(5374),s=n(8661),a=n(1015),c=n(4454),h=n(6376),l=n(4624),u=(0,o(n(7833)).default)("engine.io-client:socket"),d="function"==typeof addEventListener&&"function"==typeof removeEventListener,p=[];d&&addEventListener("offline",()=>{u("closing %d connection(s) because the network was lost",p.length),p.forEach(t=>t())},!1);class f extends c.Emitter{constructor(t,e){if(super(),this.binaryType=l.defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(e=t,t=null),t){const n=(0,a.parse)(t);e.hostname=n.host,e.secure="https"===n.protocol||"wss"===n.protocol,e.port=n.port,n.query&&(e.query=n.query)}else e.host&&(e.hostname=(0,a.parse)(e.host).host);(0,i.installTimerFunctions)(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(t=>{const e=t.prototype.name;this.transports.push(e),this._transportsByName[e]=t}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=(0,s.decode)(this.opts.query)),d&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(u("adding listener for the 'offline' event"),this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},p.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=(0,l.createCookieJar)()),this._open()}createTransport(t){u('creating transport "%s"',t);const e=Object.assign({},this.opts.query);e.EIO=h.protocol,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return u("options: %j",n),new this._transportsByName[t](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){u("setting transport %s",t.name),this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){u("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(u('socket receive: type "%s", data "%s"',t.type,t.data),this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}else u('packet received with socket readyState "%s"',this.readyState)}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();u("flushing %d packets in socket",t.length),this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let e=0;e<this.writeBuffer.length;e++){const n=this.writeBuffer[e].data;if(n&&(t+=(0,i.byteLength)(n)),e>0&&t>this._maxPayload)return u("only send %d out of %d packets",e,this.writeBuffer.length),this.writeBuffer.slice(0,e);t+=2}return u("payload size is %d (max: %d)",t,this._maxPayload),this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(u("throttled timer detected, scheduling connection close"),this._pingTimeoutTime=0,(0,l.nextTick)(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,e,n){return this._sendPacket("message",t,e,n),this}send(t,e,n){return this._sendPacket("message",t,e,n),this}_sendPacket(t,e,n,o){if("function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:t,data:e,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),u("socket closing - telling transport to close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(u("socket error %j",t),f.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return u("trying next transport"),this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(u('socket close with reason: "%s"',t),this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),d&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const t=p.indexOf(this._offlineEventListener);-1!==t&&(u("removing listener for the 'offline' event"),p.splice(t,1))}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}e.SocketWithoutUpgrade=f,f.protocol=h.protocol;class _ extends f{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade){u("starting upgrade probes");for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}}_probe(t){u('probing transport "%s"',t);let e=this.createTransport(t),n=!1;f.priorWebsocketSuccess=!1;const o=()=>{n||(u('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",o=>{if(!n)if("pong"===o.type&&"probe"===o.data){if(u('probe transport "%s" pong',t),this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;f.priorWebsocketSuccess="websocket"===e.name,u('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||"closed"!==this.readyState&&(u("changing transport and sending upgrade packet"),h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{u('probe transport "%s" failed',t);const n=new Error("probe error");n.transport=e.name,this.emitReserved("upgradeError",n)}}))};function r(){n||(n=!0,h(),e.close(),e=null)}const i=n=>{const o=new Error("probe error: "+n);o.transport=e.name,r(),u('probe transport "%s" failed because of error: %s',t,n),this.emitReserved("upgradeError",o)};function s(){i("transport closed")}function a(){i("socket closed")}function c(t){e&&t.name!==e.name&&(u('"%s" works - aborting "%s"',t.name,e.name),r())}const h=()=>{e.removeListener("open",o),e.removeListener("error",i),e.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};e.once("open",o),e.once("error",i),e.once("close",s),this.once("close",a),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}e.SocketWithUpgrade=_;e.Socket=class extends _{constructor(t,e={}){const n="object"==typeof t?t:e;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(t=>r.transports[t]).filter(t=>!!t)),super(t,n)}}},4689(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Transport=e.TransportError=void 0;const r=n(6376),i=n(4454),s=n(5374),a=n(8661),c=(0,o(n(7833)).default)("engine.io-client:transport");class h extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}e.TransportError=h;class l extends i.Emitter{constructor(t){super(),this.writable=!1,(0,s.installTimerFunctions)(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,n){return super.emitReserved("error",new h(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState?this.write(t):c("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=(0,r.decodePacket)(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&443!==Number(this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=(0,a.encode)(t);return e.length?"?"+e:""}}e.Transport=l},9419(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transports=void 0;const o=n(2071),r=n(8716),i=n(2099);e.transports={websocket:r.WS,webtransport:i.WT,polling:o.XHR}},8209(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Fetch=void 0;const o=n(528);class r extends o.Polling{doPoll(){this._fetch().then(t=>{if(!t.ok)return this.onError("fetch read error",t.status,t);t.text().then(t=>this.onData(t))}).catch(t=>{this.onError("fetch read error",t)})}doWrite(t,e){this._fetch(t).then(t=>{if(!t.ok)return this.onError("fetch write error",t.status,t);e()}).catch(t=>{this.onError("fetch write error",t)})}_fetch(t){var e;const n=void 0!==t,o=new Headers(this.opts.extraHeaders);return n&&o.set("content-type","text/plain;charset=UTF-8"),null===(e=this.socket._cookieJar)||void 0===e||e.appendCookies(o),fetch(this.uri(),{method:n?"POST":"GET",body:n?t:null,headers:o,credentials:this.opts.withCredentials?"include":"omit"}).then(t=>{var e;return null===(e=this.socket._cookieJar)||void 0===e||e.parseCookies(t.headers.getSetCookie()),t})}}e.Fetch=r},2071(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.XHR=e.Request=e.BaseXHR=void 0;const r=n(528),i=n(4454),s=n(5374),a=n(4624),c=n(4110),h=(0,o(n(7833)).default)("engine.io-client:polling");function l(){}class u extends r.Polling{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(t,e)=>{this.onError("xhr post error",t,e)})}doPoll(){h("xhr poll");const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(t,e)=>{this.onError("xhr poll error",t,e)}),this.pollXhr=t}}e.BaseXHR=u;class d extends i.Emitter{constructor(t,e,n){super(),this.createRequest=t,(0,s.installTimerFunctions)(this,n),this._opts=n,this._method=n.method||"GET",this._uri=e,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var t;const e=(0,s.pick)(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(e);try{h("xhr open %s: %s",this._method,this._uri),n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this._opts.extraHeaders[t])}}catch(t){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this._opts.cookieJar)||void 0===t||t.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},h("xhr data %s",this._data),n.send(this._data)}catch(t){return void this.setTimeoutFn(()=>{this._onError(t)},0)}"undefined"!=typeof document&&(this._index=d.requestsCount++,d.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=l,t)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete d.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(e.Request=d,d.requestsCount=0,d.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",p);else if("function"==typeof addEventListener){const t="onpagehide"in a.globalThisShim?"pagehide":"unload";addEventListener(t,p,!1)}function p(){for(let t in d.requests)d.requests.hasOwnProperty(t)&&d.requests[t].abort()}const f=function(){const t=_({xdomain:!1});return t&&null!==t.responseType}();function _(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||c.hasCORS))return new XMLHttpRequest}catch(t){}if(!e)try{return new(a.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}e.XHR=class extends u{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=f&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new d(_,this.uri(),t)}}},528(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Polling=void 0;const r=n(4689),i=n(5374),s=n(6376),a=(0,o(n(7833)).default)("engine.io-client:polling");class c extends r.Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{a("paused"),this.readyState="paused",t()};if(this._polling||!this.writable){let t=0;this._polling&&(a("we are currently polling - waiting to pause"),t++,this.once("pollComplete",function(){a("pre-pause polling complete"),--t||e()})),this.writable||(a("we are currently writing - waiting to pause"),t++,this.once("drain",function(){a("pre-pause writing complete"),--t||e()}))}else e()}_poll(){a("polling"),this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){a("polling got data %s",t);(0,s.decodePayload)(t,this.socket.binaryType).forEach(t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this._poll():a('ignoring poll - transport state "%s"',this.readyState))}doClose(){const t=()=>{a("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(a("transport open - closing"),t()):(a("transport not open - deferring close"),this.once("open",t))}write(t){this.writable=!1,(0,s.encodePayload)(t,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,i.randomString)()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}}e.Polling=c},8716(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WS=e.BaseWS=void 0;const r=n(4689),i=n(5374),s=n(6376),a=n(4624),c=(0,o(n(7833)).default)("engine.io-client:websocket"),h="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class l extends r.Transport{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,n=h?{}:(0,i.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],o=e===t.length-1;(0,s.encodePacket)(n,this.supportsBinary,t=>{try{this.doWrite(n,t)}catch(t){c("websocket closed before onclose event")}o&&(0,a.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,i.randomString)()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}e.BaseWS=l;const u=a.globalThisShim.WebSocket||a.globalThisShim.MozWebSocket;e.WS=class extends l{createSocket(t,e,n){return h?new u(t,e,n):e?new u(t,e):new u(t)}doWrite(t,e){this.ws.send(e)}}},2099(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WT=void 0;const r=n(4689),i=n(4624),s=n(6376),a=(0,o(n(7833)).default)("engine.io-client:webtransport");class c extends r.Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{a("transport closed gracefully"),this.onClose()}).catch(t=>{a("transport closed due to %s",t),this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const e=(0,s.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),o=(0,s.createPacketEncoderStream)();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const r=()=>{n.read().then(({done:t,value:e})=>{t?a("session is closed"):(a("received chunk: %o",e),this.onPacket(e),r())}).catch(t=>{a("an error occurred while reading: %s",t)})};r();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],o=e===t.length-1;this._writer.write(n).then(()=>{o&&(0,i.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}}e.WT=c},5374(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pick=function(t,...e){return e.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})},e.installTimerFunctions=function(t,e){e.useNativeTimers?(t.setTimeoutFn=r.bind(o.globalThisShim),t.clearTimeoutFn=i.bind(o.globalThisShim)):(t.setTimeoutFn=o.globalThisShim.setTimeout.bind(o.globalThisShim),t.clearTimeoutFn=o.globalThisShim.clearTimeout.bind(o.globalThisShim))},e.byteLength=function(t){if("string"==typeof t)return function(t){let e=0,n=0;for(let o=0,r=t.length;o<r;o++)e=t.charCodeAt(o),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(o++,n+=4);return n}(t);return Math.ceil(1.33*(t.byteLength||t.size))},e.randomString=function(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)};const o=n(4624);const r=o.globalThisShim.setTimeout,i=o.globalThisShim.clearTimeout},2046(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_PACKET=e.PACKET_TYPES_REVERSE=e.PACKET_TYPES=void 0;const n=Object.create(null);e.PACKET_TYPES=n,n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const o=Object.create(null);e.PACKET_TYPES_REVERSE=o,Object.keys(n).forEach(t=>{o[n[t]]=t});e.ERROR_PACKET={type:"error",data:"parser error"}},2745(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)o[n.charCodeAt(t)]=t;e.encode=t=>{let e,o=new Uint8Array(t),r=o.length,i="";for(e=0;e<r;e+=3)i+=n[o[e]>>2],i+=n[(3&o[e])<<4|o[e+1]>>4],i+=n[(15&o[e+1])<<2|o[e+2]>>6],i+=n[63&o[e+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i};e.decode=t=>{let e,n,r,i,s,a=.75*t.length,c=t.length,h=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);const l=new ArrayBuffer(a),u=new Uint8Array(l);for(e=0;e<c;e+=4)n=o[t.charCodeAt(e)],r=o[t.charCodeAt(e+1)],i=o[t.charCodeAt(e+2)],s=o[t.charCodeAt(e+3)],u[h++]=n<<2|r>>4,u[h++]=(15&r)<<4|i>>2,u[h++]=(3&i)<<6|63&s;return l}},2662(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodePacket=void 0;const o=n(2046),r=n(2745),i="function"==typeof ArrayBuffer;e.decodePacket=(t,e)=>{if("string"!=typeof t)return{type:"message",data:a(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:s(t.substring(1),e)};return o.PACKET_TYPES_REVERSE[n]?t.length>1?{type:o.PACKET_TYPES_REVERSE[n],data:t.substring(1)}:{type:o.PACKET_TYPES_REVERSE[n]}:o.ERROR_PACKET};const s=(t,e)=>{if(i){const n=(0,r.decode)(t);return a(n,e)}return{base64:!0,data:t}},a=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer},2686(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodePacket=void 0,e.encodePacketToBinary=function(t,e){if(r&&t.data instanceof Blob)return t.data.arrayBuffer().then(h).then(e);if(i&&(t.data instanceof ArrayBuffer||s(t.data)))return e(h(t.data));a(t,!1,t=>{l||(l=new TextEncoder),e(l.encode(t))})};const o=n(2046),r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),i="function"==typeof ArrayBuffer,s=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,a=({type:t,data:e},n,a)=>r&&e instanceof Blob?n?a(e):c(e,a):i&&(e instanceof ArrayBuffer||s(e))?n?a(e):c(new Blob([e]),a):a(o.PACKET_TYPES[t]+(e||""));e.encodePacket=a;const c=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function h(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let l},6376(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodePayload=e.decodePacket=e.encodePayload=e.encodePacket=e.protocol=void 0,e.createPacketEncoderStream=function(){return new TransformStream({transform(t,e){(0,o.encodePacketToBinary)(t,n=>{const o=n.length;let r;if(o<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,o);else if(o<65536){r=new Uint8Array(3);const t=new DataView(r.buffer);t.setUint8(0,126),t.setUint16(1,o)}else{r=new Uint8Array(9);const t=new DataView(r.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(o))}t.data&&"string"!=typeof t.data&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})},e.createPacketDecoderStream=function(t,e){a||(a=new TextDecoder);const n=[];let o=0,s=-1,l=!1;return new TransformStream({transform(u,d){for(n.push(u);;){if(0===o){if(c(n)<1)break;const t=h(n,1);l=!(128&~t[0]),s=127&t[0],o=s<126?3:126===s?1:2}else if(1===o){if(c(n)<2)break;const t=h(n,2);s=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),o=3}else if(2===o){if(c(n)<8)break;const t=h(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),r=e.getUint32(0);if(r>Math.pow(2,21)-1){d.enqueue(i.ERROR_PACKET);break}s=r*Math.pow(2,32)+e.getUint32(4),o=3}else{if(c(n)<s)break;const t=h(n,s);d.enqueue((0,r.decodePacket)(l?t:a.decode(t),e)),o=0}if(0===s||s>t){d.enqueue(i.ERROR_PACKET);break}}}})};const o=n(2686);Object.defineProperty(e,"encodePacket",{enumerable:!0,get:function(){return o.encodePacket}});const r=n(2662);Object.defineProperty(e,"decodePacket",{enumerable:!0,get:function(){return r.decodePacket}});const i=n(2046),s=String.fromCharCode(30);e.encodePayload=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((t,a)=>{(0,o.encodePacket)(t,!1,t=>{r[a]=t,++i===n&&e(r.join(s))})})};let a;function c(t){return t.reduce((t,e)=>t+e.length,0)}function h(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let o=0;for(let r=0;r<e;r++)n[r]=t[0][o++],o===t[0].length&&(t.shift(),o=0);return t.length&&o<t[0].length&&(t[0]=t[0].slice(o)),n}e.decodePayload=(t,e)=>{const n=t.split(s),o=[];for(let t=0;t<n.length;t++){const i=(0,r.decodePacket)(n[t],e);if(o.push(i),"error"===i.type)break}return o},e.protocol=4},7743(t,e){"use strict";function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Object.defineProperty(e,"__esModule",{value:!0}),e.Backoff=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=1&Math.floor(10*e)?t+n:t-n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},8007(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebTransport=e.WebSocket=e.NodeWebSocket=e.XHR=e.NodeXHR=e.Fetch=e.Socket=e.Manager=e.protocol=void 0,e.io=h,e.connect=h,e.default=h;const r=n(6894),i=n(3776);Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return i.Manager}});const s=n(6214);Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return s.Socket}});const a=(0,o(n(7833)).default)("socket.io-client"),c={};function h(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};const n=(0,r.url)(t,e.path||"/socket.io"),o=n.source,s=n.id,h=n.path,l=c[s]&&h in c[s].nsps;let u;return e.forceNew||e["force new connection"]||!1===e.multiplex||l?(a("ignoring socket cache for %s",o),u=new i.Manager(o,e)):(c[s]||(a("new io instance for %s",o),c[s]=new i.Manager(o,e)),u=c[s]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(h,{Manager:i.Manager,Socket:s.Socket,io:h,connect:h});var l=n(4627);Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return l.protocol}});var u=n(4956);Object.defineProperty(e,"Fetch",{enumerable:!0,get:function(){return u.Fetch}}),Object.defineProperty(e,"NodeXHR",{enumerable:!0,get:function(){return u.NodeXHR}}),Object.defineProperty(e,"XHR",{enumerable:!0,get:function(){return u.XHR}}),Object.defineProperty(e,"NodeWebSocket",{enumerable:!0,get:function(){return u.NodeWebSocket}}),Object.defineProperty(e,"WebSocket",{enumerable:!0,get:function(){return u.WebSocket}}),Object.defineProperty(e,"WebTransport",{enumerable:!0,get:function(){return u.WebTransport}}),t.exports=h},3776(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;const a=n(4956),c=n(6214),h=i(n(4627)),l=n(5942),u=n(7743),d=n(4454),p=(0,s(n(7833)).default)("socket.io-client:manager");class f extends d.Emitter{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,(0,a.installTimerFunctions)(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new u.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const o=e.parser||h;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(p("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=new a.Socket(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const o=(0,l.on)(e,"open",function(){n.onopen(),t&&t()}),r=e=>{p("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},i=(0,l.on)(e,"error",r);if(!1!==this._timeout){const t=this._timeout;p("connect attempt will timeout after %d",t);const n=this.setTimeoutFn(()=>{p("connect attempt timed out after %d",t),o(),r(new Error("timeout")),e.close()},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(o),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){p("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push((0,l.on)(t,"ping",this.onping.bind(this)),(0,l.on)(t,"data",this.ondata.bind(this)),(0,l.on)(t,"error",this.onerror.bind(this)),(0,l.on)(t,"close",this.onclose.bind(this)),(0,l.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){(0,a.nextTick)(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){p("error",t),this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new c.Socket(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return void p("socket %s is still active, skipping close",t)}this._close()}_packet(t){p("writing packet %j",t);const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){p("cleanup"),this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){p("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;p("closed due to %s",t),this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();p("will wait %dms before reconnect attempt",e),this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(p("attempting reconnect"),this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(e=>{e?(p("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):(p("reconnect success"),t.onreconnect())}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}e.Manager=f},5942(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.on=function(t,e,n){return t.on(e,n),function(){t.off(e,n)}}},6214(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;const r=n(4627),i=n(5942),s=n(4454),a=(0,o(n(7833)).default)("socket.io-client:socket"),c=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class h extends s.Emitter{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[(0,i.on)(t,"open",this.onopen.bind(this)),(0,i.on)(t,"packet",this.onpacket.bind(this)),(0,i.on)(t,"error",this.onerror.bind(this)),(0,i.on)(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,o,i;if(c.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const s={type:r.PacketType.EVENT,data:e,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++;a("emitting packet with ack id %d",t);const n=e.pop();this._registerAckCallback(t,n),s.id=t}const h=null===(o=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===o?void 0:o.writable,l=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!h?a("discard packet as the transport is not currently writable"):l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s),this.flags={},this}_registerAckCallback(t,e){var n;const o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===o)return void(this.acks[t]=e);const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&(a("removing packet with ack id %d from the buffer",t),this.sendBuffer.splice(e,1));a("event with ack id %d has timed out after %d ms",t,o),e.call(this,new Error("operation has timed out"))},o),i=(...t)=>{this.io.clearTimeoutFn(r),e.apply(this,t)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...e){return new Promise((n,o)=>{const r=(t,e)=>t?o(t):n(e);r.withError=!0,e.push(r),this.emit(t,...e)})}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((t,...o)=>{if(n!==this._queue[0])return a("packet [%d] already acknowledged",n.id);return null!==t?n.tryCount>this._opts.retries&&(a("packet [%d] is discarded after %d tries",n.id,n.tryCount),this._queue.shift(),e&&e(t)):(a("packet [%d] was successfully sent",n.id),this._queue.shift(),e&&e(null,...o)),n.pending=!1,this._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(a("draining queue"),!this.connected||0===this._queue.length)return;const e=this._queue[0];!e.pending||t?(e.pending=!0,e.tryCount++,a("sending packet [%d] (try n%d)",e.id,e.tryCount),this.flags=e.flags,this.emit.apply(this,e.args)):a("packet [%d] has already been sent and is waiting for an ack",e.id)}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){a("transport is open - connecting"),"function"==typeof this.auth?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:r.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){a("close (%s)",t),this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(e=>String(e.id)===t)){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case r.PacketType.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case r.PacketType.EVENT:case r.PacketType.BINARY_EVENT:this.onevent(t);break;case r.PacketType.ACK:case r.PacketType.BINARY_ACK:this.onack(t);break;case r.PacketType.DISCONNECT:this.ondisconnect();break;case r.PacketType.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];a("emitting event %j",e),null!=t.id&&(a("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...o){n||(n=!0,a("sending ack %j",o),e.packet({type:r.PacketType.ACK,id:t,data:o}))}}onack(t){const e=this.acks[t.id];"function"==typeof e?(delete this.acks[t.id],a("calling ack %s with %j",t.id,t.data),e.withError&&t.data.unshift(null),e.apply(this,t.data)):a("bad ack %s",t.id)}onconnect(t,e){a("socket connected with id %s",t),this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:r.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}e.Socket=h},6894(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.url=function(t,e="",n){let o=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),i("parse %s",t),o=(0,r.parse)(t));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";const s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port+e,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o};const r=n(4956),i=(0,o(n(7833)).default)("socket.io-client:url")},4926(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deconstructPacket=function(t){const e=[],n=t.data,o=t;return o.data=r(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=i(t.data,e),delete t.attachments,t};const o=n(9133);function r(t,e){if(!t)return t;if((0,o.isBinary)(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let o=0;o<t.length;o++)n[o]=r(t[o],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=r(t[o],e));return n}return t}function i(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=i(t[n],e);else if("object"==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=i(t[n],e));return t}},4627(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0,e.isPacketValid=function(t){return n=t.nsp,"string"==typeof n&&(e=t.id,void 0===e||u(e))&&function(t,e){switch(t){case c.CONNECT:return void 0===e||d(e);case c.DISCONNECT:return void 0===e;case c.EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===a.indexOf(e[0]));case c.ACK:return Array.isArray(e);case c.CONNECT_ERROR:return"string"==typeof e||d(e);default:return!1}}(t.type,t.data);var e;var n};const o=n(4454),r=n(4926),i=n(9133),s=(0,n(7833).default)("socket.io-parser"),a=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var c;e.protocol=5,function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(c||(e.PacketType=c={}));e.Encoder=class{constructor(t){this.replacer=t}encode(t){return s("encoding packet %j",t),t.type!==c.EVENT&&t.type!==c.ACK||!(0,i.hasBinary)(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===c.EVENT?c.BINARY_EVENT:c.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==c.BINARY_EVENT&&t.type!==c.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),s("encoded %j as %s",t,e),e}encodeAsBinary(t){const e=(0,r.deconstructPacket)(t),n=this.encodeAsString(e.packet),o=e.buffers;return o.unshift(n),o}};class h extends o.Emitter{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===c.BINARY_EVENT;n||e.type===c.BINARY_ACK?(e.type=n?c.EVENT:c.ACK,this.reconstructor=new l(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!(0,i.isBinary)(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===c[n.type])throw new Error("unknown packet type "+n.type);if(n.type===c.BINARY_EVENT||n.type===c.BINARY_ACK){const o=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const r=t.substring(o,e);if(r!=Number(r)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===t.charAt(e+1)){const o=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(o,e)}else n.nsp="/";const o=t.charAt(e+1);if(""!==o&&Number(o)==o){const o=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(o,e+1))}if(t.charAt(++e)){const o=this.tryParse(t.substr(e));if(!h.isPayloadValid(n.type,o))throw new Error("invalid payload");n.data=o}return s("decoded %s as %j",t,n),n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case c.CONNECT:return d(e);case c.DISCONNECT:return void 0===e;case c.CONNECT_ERROR:return"string"==typeof e||d(e);case c.EVENT:case c.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===a.indexOf(e[0]));case c.ACK:case c.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}e.Decoder=h;class l{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=(0,r.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const u=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function d(t){return"[object Object]"===Object.prototype.toString.call(t)}},9133(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isBinary=s,e.hasBinary=function t(e,n){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let n=0,o=e.length;n<o;n++)if(t(e[n]))return!0;return!1}if(s(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return!0;return!1};const n="function"==typeof ArrayBuffer,o=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),i="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);function s(t){return n&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||r&&t instanceof Blob||i&&t instanceof File}},4454(t,e,n){"use strict";function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}n.r(e),n.d(e,{Emitter:()=>o}),o.prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},o.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<o.length;r++)if((n=o[r])===e||n.fn===e){o.splice(r,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(n){o=0;for(var r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,e)}return this},o.prototype.emitReserved=o.prototype.emit,o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";const t=n(2992);n(6673);document.addEventListener("DOMContentLoaded",function(){console&&(console.log("CopyPaste.me - Frictionless sharing between devices - Created by The Social Code"),console.log("Please help keeping this service free by donating: https://paypal.me/thesocialcode"),console.log(""));let e=document.CopyPaste.config.socketio.port?":"+document.CopyPaste.config.socketio.port:"";-1!==window.location.hostname.indexOf("onrender.com")&&(e="");let n=window.location.protocol+"//"+window.location.hostname,o=document.querySelector('[data-mimoto-id="interface-content"]');var r=document.querySelector('[data-mimoto-id="footer-collapsed"]'),i=document.querySelector('[data-mimoto-id="footer-collapsed-background"]'),s=document.querySelector('[data-mimoto-id="footer-expanded"]');this._toggleFooter=function(t){o.getBoundingClientRect();var e=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);window.scrollY>e-window.innerHeight-s.clientHeight+r.clientHeight?(r.classList.add("animate"),r.classList.remove("show")):r.classList.add("show")},this._toggleFooter(),window.addEventListener("scroll",this._toggleFooter.bind(this)),i.addEventListener("click",function(){window.scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"})}.bind(this)),document.CopyPaste.autoRun&&(this.client=new t(n+e))},!0)})()})();